<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>Phone</title>
<meta http-equiv="Content-Language" content="English">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="pragma" content="no-cache">
<link rel="stylesheet" type="text/css" href="Phone_files/style.css" media="screen">
<script language="javascript" type="text/javascript" src="Phone_files/menu_base.html"></script>
<script language="javascript" type="text/javascript" src="Phone_files/menu.html"></script>
<script language="javascript" type="text/javascript" src="Phone_files/common.html"></script>

<style>
.text {
width:230px;
}
.passwd {
width:230px;
}
</style>
<script language="javascript" type="text/javascript">
<!--
var menuSection	='Telephony';
var menuItem	='Account Setting';
var xmlDoc =loadXml("VoIP.xml");//fanny add 20120308
var NodeLength_SIPAcnt=getNodeLength("SIPAccount");//fanny add 20120430
var value;//fanny add 20120430
var specSymb = new Array("-","&",".","_","!","~","*","'","(",")","%","=","+","$",",","/","?");



function setValue(val)
{
	document.getElementById("mm_"+val).value = 
		(document.getElementById("id_"+val).checked)?"1":"0";

}
function checkSettingSuccess()
{
	var result="NO";
	var item;
	if (result=="YES")
		alert("Someone is talking now, please click 'Activate VoIP Account' button later.");
	else if (result!="NO")
	{
		item = document.getElementById("id_hidden_un" + result).value;
		alert(item + " is talking now, please delete it later.");
	}
}

function showAccount(num)
{
//fanny edit 2012/05/10 marked
/*	if (num==0)
	{
		document.getElementById("mm_id_item").value = "";
		document.getElementById("id_enable_item").checked = false;
		document.getElementById("id_pn_item").value = "";
		document.getElementById("id_ds_item").value = "";
		document.getElementById("id_un_item").value = "";
		document.getElementById("id_an_item").value = "";
		document.getElementById("id_ap_item").value = "";
		document.getElementById("id_ar_item").value = "";
		document.getElementById("id_dnd_item").checked = false;
document.getElementById("id_clir_item").checked = false;
document.getElementById("id_acallrj_item").checked = false;
document.getElementById("id_uncnd_item").checked = false;
document.getElementById("id_busy_item").checked = false;
document.getElementById("id_norply_item").checked = false;
document.getElementById("id_ncndftn_item").value = "";
document.getElementById("id_busyftn_item").value = "";
document.getElementById("id_norplyftn_item").value = "";

	}
	else
	{*/
		document.getElementById("mm_id_item").value = document.getElementById("id_hidden_id" + num).value;

		document.getElementById("id_enable_item").checked =
			(document.getElementById("id_hidden_en" + num).value=="1")?true:false;
		document.getElementById("id_pn_item").value = 
			document.getElementById("id_hidden_pn" + num).value;
		document.getElementById("id_ds_item").value =
			document.getElementById("id_hidden_ds" + num).value;
		document.getElementById("id_un_item").value =
			document.getElementById("id_hidden_un" + num).value;
		document.getElementById("id_an_item").value =
			document.getElementById("id_hidden_an" + num).value;
		document.getElementById("id_ap_item").value =
			document.getElementById("id_hidden_ap" + num).value;
		document.getElementById("id_ar_item").value =
                        document.getElementById("id_hidden_ar" + num).value;
		document.getElementById("id_clir_item").checked = (document.getElementById("id_hidden_clir" + num).value=="1")?true:false;
document.getElementById("id_dnd_item").checked = (document.getElementById("id_hidden_dnd" + num).value=="1")?true:false;
document.getElementById("id_acallrj_item").checked = (document.getElementById("id_hidden_acallrj" + num).value=="1")?true:false;
document.getElementById("id_uncnd_item").checked = (document.getElementById("id_hidden_uncnd" + num).value=="1")?true:false;
document.getElementById("id_busy_item").checked = (document.getElementById("id_hidden_busy" + num).value=="1")?true:false;
document.getElementById("id_norply_item").checked = (document.getElementById("id_hidden_norply" + num).value=="1")?true:false;
document.getElementById("id_ncndftn_item").value = document.getElementById("id_hidden_ncndftn" + num).value;
document.getElementById("id_busyftn_item").value = document.getElementById("id_hidden_busyftn" + num).value;
document.getElementById("id_norplyftn_item").value = document.getElementById("id_hidden_norplyftn" + num).value;

				
		
	//}
	setValue("enable_item");
	setValue("dnd_item");
setValue("clir_item");
setValue("acallrj_item");
setValue("uncnd_item");
setValue("busy_item");
setValue("norply_item");

}

function clearText(val)
{
	document.getElementById(val).value="";
}

function checkPhoneNumber()
{
	var obj=document.getElementById("id_pn_item" );
	var i=0;
	if (!check_phone_number(obj.value))
		return false;
	return true;
}

function check_phone_number(val)
{
	var c,i=0;
        for(i=0;i<val.length;i++)
        {
                c = val.charAt(i);
                if(((c<'0')||(c>'9'))&&(c!='+'))
                {
                        return false;
                }
        }
	return true;
}


function check_syb(val,index,type)
{
	var c,i=0,j=0;
	var control_nvram="";
		
        for(i=0;i<val.length;i++)
        {
                c = val.charAt(i);
                if ((control_nvram==2)&&(type==1))
                {
                	if(!((c>='0' && c<='9')||(c>='a' && c<='z')||(c>='A' && c<='Z')||(c=='@')))
                	{
				for (j=0;j<index;j++)
				{
					if (c==specSymb[j])
						break;
				}
				if (j==index)
                	        	return c;
                	}
                }
                else
                {            
                	if(!((c>='0' && c<='9')||(c>='a' && c<='z')||(c>='A' && c<='Z')))
                	{
				for (j=0;j<index;j++)
				{
					if (c==specSymb[j])
						break;
				}
				if (j==index)
                	        	return c;
                	}
                }
        }
        return "OK";
}

function check_ftn()
{
	var item;
	if (document.getElementById("id_uncnd_item").checked)
	{
		if (document.getElementById("id_ncndftn_item").value.length==0 ||
			!check_phone_number(document.getElementById("id_ncndftn_item").value))
		{
			item = "Call Forwarding Unconditional" + " FTN";
			alert(item + " is invalid!!");
			document.getElementById("id_ncndftn_item").focus();
			return false;
		}
	}
	if (document.getElementById("id_busy_item").checked)
	{
		if (document.getElementById("id_busyftn_item").value.length==0 ||
			!check_phone_number(document.getElementById("id_busyftn_item").value))
		{
			item = "Call Forwarding On Busy" + " FTN";
			alert(item + " is invalid!!");
			document.getElementById("id_busyftn_item").focus();
			return false;
		}
	}
	if (document.getElementById("id_norply_item").checked)
	{
		if (document.getElementById("id_norplyftn_item").value.length==0 ||
			!check_phone_number(document.getElementById("id_norplyftn_item").value))
		{
			item = "Call Forwarding No Reply" + " FTN";
			alert(item + " is invalid!!");
			document.getElementById("id_norplyftn_item").focus();
			return false;
		}
	}
	return true;
}
function enableFTN()
{
	if (document.getElementById("id_uncnd_item").checked)
		document.getElementById("id_ncndftn_item").disabled=false;
	else
		document.getElementById("id_ncndftn_item").disabled=true;

	if (document.getElementById("id_busy_item").checked)
		document.getElementById("id_busyftn_item").disabled=false;
	else
		document.getElementById("id_busyftn_item").disabled=true;

	if (document.getElementById("id_norply_item").checked)
		document.getElementById("id_norplyftn_item").disabled=false;
	else
		document.getElementById("id_norplyftn_item").disabled=true;
}


function disabledItem(val)
{
		document.getElementById("id_enable_item").disabled = val;
		document.getElementById("mm_enable_item").disabled = val;
		document.getElementById("id_pn_item").disabled = val;
		document.getElementById("id_ds_item").disabled = val;
		document.getElementById("id_un_item").disabled = val;
		document.getElementById("id_an_item").disabled = val;
		document.getElementById("id_ap_item").disabled = val;
		document.getElementById("id_ar_item").disabled = val;
		document.getElementById("aplyChng").disabled = val;
			document.getElementById("id_dnd_item").disabled = val;
	document.getElementById("id_clir_item").disabled = val;
	document.getElementById("id_acallrj_item").disabled = val;
	document.getElementById("mm_dnd_item").disabled = val;
	document.getElementById("mm_clir_item").disabled = val;
	document.getElementById("mm_acallrj_item").disabled = val;
	document.getElementById("id_uncnd_item").disabled = val;
	document.getElementById("id_busy_item").disabled = val;
	document.getElementById("mm_uncnd_item").disabled = val;
	document.getElementById("mm_busy_item").disabled = val;
	document.getElementById("id_norply_item").disabled = val;
	document.getElementById("mm_norply_item").disabled = val;
	document.getElementById("id_ncndftn_item").disabled = val;
	document.getElementById("id_busyftn_item").disabled = val;
	document.getElementById("id_norplyftn_item").disabled = val;

}

function isOnlyActive(val)
{
	var obj=new Array(16),i=0;
	obj[0] = document.getElementById("id_SIPAccountNum").selectedIndex;
	obj[1] = document.getElementById("id_enable_item").checked?1:0;
	obj[2] = document.getElementById("id_pn_item").value.length;
	obj[3] = document.getElementById("id_ds_item").value.length;
	obj[4] = document.getElementById("id_un_item").value.length;
	obj[5] = document.getElementById("id_ap_item").value.length;
	obj[6] = document.getElementById("id_dnd_item").checked?1:0;
	obj[7] = document.getElementById("id_clir_item").checked?1:0;
	obj[8] = document.getElementById("id_acallrj_item").checked?1:0;
	obj[9] = document.getElementById("id_uncnd_item").checked?1:0;
	obj[10] = document.getElementById("id_busy_item").checked?1:0;
	obj[11] = document.getElementById("id_norply_item").checked?1:0;
	obj[12] = document.getElementById("id_ncndftn_item").value.length;
	obj[13] = document.getElementById("id_busyftn_item").value.length;
	obj[14] = document.getElementById("id_norplyftn_item").value.length;
	obj[15] = document.getElementById("id_ar_item").value.length;
	obj[16] = document.getElementById("id_an_item").value.length;

	if (val!=0)
	    return false;
	for (i=0;i<=16;i++)
	{
	    if (obj[i]!=0)
		return false;
	}
	return true;

}

function sub_sym(val,sym,val2)
{
	var i=0;
	if (val[0])
	{
	 for (i=0;i<val.length;i++)
	 {
	 	if (val[i]==sym) 
      break;
	 }
	}
	else
	 i=val.indexOf(sym);
	return val.substring(0,i);
}

function account_setting(val)
{
	var i=0;
	var item,syb;
	var counter=2;
	var isPassSpSym="YES";

	var obj0 = document.getElementById("id_enable_item");
	var obj1 = document.getElementById("id_pn_item");
	var obj2 = document.getElementById("id_ds_item");
	var obj3 = document.getElementById("id_un_item");
	var obj4 = document.getElementById("id_ap_item"); 
	var obj5 = document.getElementById("id_ar_item");
	var obj6 = document.getElementById("id_an_item");

	if (isOnlyActive(val))
	{
		disabledItem(true);
	}
	
	if (document.getElementById("aplyChng").disabled==false)
	{
		if (obj1.value.length==0 || obj1.value.length>64)
		{
			item = "Phone Number";
			alert(item + " is invalid!!");
			obj1.focus();
			return false;
		}
		else if (!checkPhoneNumber())
		{
			item = "Phone Number";
			alert(item + " is invalid!!");
			obj1.focus();
			return false;
		}
		else if (obj2.value.length==0 || obj2.value.length>64)
		{
			item = "Display Name";
			alert(item + " is invalid!!");
			obj2.focus();
			return false;
		}
		else if  ((syb=check_syb(obj2.value,17,0))!="OK")
		{
			item = "Display Name";
			alert(item + " can't include special symbol ' " + syb + " '.");
			obj2.focus();
			return false;
		}
		else if (obj3.value.length==0 || obj3.value.length>64)
		{
			item = "User Name";
			alert(item + " is invalid!!");
			obj3.focus();
			return false;
		}
		else if  ((syb=check_syb(obj3.value,17,0))!="OK")
		{
			item = "User Name";
			alert(item + " can't include special symbol ' " + syb + " '.");
			obj3.focus();
			return false;
		}
		/*
		else if (obj4.value.length==0 || obj4.value.length>64)
		{
			item = "Authentication Password";
			alert(item + " is invalid!!");
			obj4.focus();
			return false;
		}
		else if  ((syb=check_syb(obj4.value,15,0))!="OK")
		{
			item = "Authentication Password";
			alert(item + " can't include special symbol ' " + syb + " '.");
			obj4.focus();
			return false;
		}
		*/
		else if ((syb=check_syb(obj5.value,17,0))!="OK")
		{
			item = "Realm";
                        alert(item + " can't include special symbol ' " + syb + " '.");
                        obj5.focus();
                        return false;
		}
		if ((obj4.value.length!=0)||(obj6.value.length!=0))
		{
			if ((obj6.value.length==0)||(obj6.value.length>64))
			{
				item = "Authentication User Name";
				alert(item + " is invalid!!");
				obj6.focus();
				return false;
			}
			if  ((syb=check_syb(obj6.value,15,1))!="OK")
			{
				var sepsym = "";
				if (syb=="@" && isPassSpSym=="YES")
				{
					sepsym = sub_sym(obj6.value,"@");
					if ((syb=check_syb(sepsym,15,1))!="OK")
					{
						item = "Authentication User Name";
						alert(item + " can't include special symbol ' " + syb + " '.");
						obj6.focus();
						return false;
					}
				}
				else
				{
					item = "Authentication User Name";
					alert(item + " can't include special symbol ' " + syb + " '.");
					obj6.focus();
					return false;
				}
			}
			if ((obj4.value.length==0)||(obj4.value.length>64))
			{
				item = "Authentication Password";
				alert(item + " is invalid!!");
				obj4.focus();
				return false;
			}
			if  ((syb=check_syb(obj4.value,15,0))!="OK")
			{
				item = "Authentication Password";
				alert(item + " can't include special symbol ' " + syb + " '.");
				obj4.focus();
				return false;
			}
		}
		
		if (!check_ftn())
			return false;
  	
		for (i=1;i<=counter;i++)
		{
			var tobj=document.getElementById("id_hidden_pn" + i);
			//fanny edit 2012/05/10 
			//if (document.getElementById("id_SIPAccountNum").selectedIndex!=0 && 
			//	document.getElementById("id_SIPAccountNum").selectedIndex==i)
			if (document.getElementById("id_SIPAccountNum").selectedIndex+1==i)
				continue;
			if (tobj.value==obj1.value)
			{
				item = "Phone Number";
	                        alert(item + " can't be the same as Account " + i + ".");
        	                obj1.focus();
                	        return false;
			}
		}
		
	}
	//fanny edit 2012/05/10 marked
//	if (document.getElementById("id_SIPAccountNum").selectedIndex>0)
//	{
		document.getElementById("id_sip_form").nosave_accountIndex.value = 
		document.getElementById("id_SIPAccountNum").selectedIndex+1;//fanny edit 2012/05/10 add +1
//	}
//	else
//	{
//		document.getElementById("id_sip_form").nosave_accountIndex.value = counter+1;
//	}
	
	document.account_form.submit();
}

function delete_rule(val)
{
	document.account_edit_form.nosave_delete.disabled=false;
	document.account_edit_form.nosave_delete.value=val;
	document.account_edit_form.nosave_del_ID.disabled=false;
	document.account_edit_form.nosave_del_ID.value=document.getElementById("id_hidden_id" + val).value;	
	if (confirm ("Are you sure to delete this account"))
		document.account_edit_form.submit();

}

function edit_rule(val)
{
	document.getElementById("id_SIPAccountNum").selectedIndex = val;
	edit_rule_select();
	//showAccount(val);
}

function edit_rule_select()
{
	//var x=xmlDoc.getElementsByTagName("SIPAccount");
	//var counter=x.length;
	var counter=NodeLength_SIPAcnt;
	var MaxRule=10;
  var index=document.getElementById("id_SIPAccountNum").selectedIndex;//fanny add 2012/05/10
	if (counter>=MaxRule && document.getElementById("id_SIPAccountNum").selectedIndex==0) //Modified by Nina 2010.10.12
		disabledItem(true);
	else
		disabledItem(false);
		
	 index=index+1;//fanny add 2012/05/10
	
	showAccount(index);//fanny edit 2012/05/10 document.getElementById("id_SIPAccountNum").selectedIndex to index
	if (document.getElementById("id_SIPAccountNum").selectedIndex!=0)
		enableFTN();
	else if (counter<10)
		enableFTN();
}

function enable_rule(val)
{
	document.account_edit_form.nosave_enable.disabled=false;
	document.account_edit_form.nosave_enable.value=val;
	//alert(document.account_edit_form.nosave_enable.value);
	document.account_edit_form.submit();
}

function set_server()
{
	document.account_form.nosave_apply.disabled=false;
	if (!account_setting(1))
		document.account_form.nosave_apply.disabled=true;
}

function rs_server()
{
	document.account_form.nosave_rs.disabled=false;
	if (!account_setting(0))
		document.account_form.nosave_rs.disabled=true;
}

function ar_server()
{
	document.account_form.nosave_both.disabled=false;
	if (!account_setting(0))
		document.account_form.nosave_both.disabled=true;
}
//-->
</script>
</head><body leftmargin="0" topmargin="0" onload="checkSettingSuccess();edit_rule_select();" marginheight="0" marginwidth="0" bgcolor="#FFFFFF">

<script language="javascript" type="text/javascript">
	showMenu0(menuSection,menuItem);
</script><table cellpadding="0" cellspacing="0" border="0"><tbody><tr><td height="100%" valign="top" width="185"><table cellpadding="0" cellspacing="0" width="185" align="left" border="0"><tbody><tr id="id_status_item11"><td colspan="3" class="section" onclick='setMenuFlag("status",1,9);' onmouseover='changeCursor("status",9);' height="20" width="170" background="Phone_files/blu_bar.gif">&nbsp;&nbsp;&nbsp;<img id="id_status_item10" src="Phone_files/up.gif" height="12" width="12">&nbsp;<font color="#FFFFFF">Status</font></td></tr><tr id="id_status_item1" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/status.html"><font color="#000000">System Usage</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_status_item2" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/wan_status.html"><font color="#000000">WAN PON Status</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_status_item3" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_gpon.html"><font color="#000000">PON Link Status</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_status_item4" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_device.html"><font color="#000000">Device Table</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_status_item5" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_dhcp.html"><font color="#000000">DHCP Lease</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_status_item6" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_wifi.html"><font color="#000000">WiFi Association</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_status_item7" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/statistics.html"><font color="#000000">WAN/(W)LAN Statistics</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_status_item8" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/igmp_membership.html"><font color="#000000">IGMP Membership</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_status_item9" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/igmp_statistic.html"><font color="#000000">IGMP Statistic</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_net_item5"><td colspan="3" class="section" onclick='setMenuFlag("net",1,3);' onmouseover='changeCursor("net",3);' height="20" width="170" background="Phone_files/blu_bar.gif">&nbsp;&nbsp;&nbsp;<img id="id_net_item4" src="Phone_files/up.gif" height="12" width="12">&nbsp;<font color="#FFFFFF">Network</font></td></tr><tr id="id_net_item1" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/usb_setting.html"><font color="#000000">USB</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_net_item2" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/lan_mn.html"><font color="#000000">LAN Settings</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_net_item3" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/wan_hybrid.html"><font color="#000000">WAN PON Connections</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_wifi_item5"><td colspan="3" class="section" onclick='setMenuFlag("wifi",1,3);' onmouseover='changeCursor("wifi",3);' height="20" width="170" background="Phone_files/blu_bar.gif">&nbsp;&nbsp;&nbsp;<img id="id_wifi_item4" src="Phone_files/up.gif" height="12" width="12">&nbsp;<font color="#FFFFFF">WiFi Setup</font></td></tr><tr id="id_wifi_item1" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/wifi_setting.html"><font color="#000000">WiFi Settings</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_wifi_item2" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/wifi_security.html"><font color="#000000">WiFi Security</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_wifi_item3" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/wifi_mac.html"><font color="#000000">WiFi Access</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_firewall_item8"><td colspan="3" class="section" onclick='setMenuFlag("firewall",1,6);' onmouseover='changeCursor("firewall",6);' height="20" width="170" background="Phone_files/blu_bar.gif">&nbsp;&nbsp;&nbsp;<img id="id_firewall_item7" src="Phone_files/up.gif" height="12" width="12">&nbsp;<font color="#FFFFFF">Firewall Setup</font></td></tr><tr id="id_firewall_item1" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/natfw_portforwarding.html"><font color="#000000">Port Forwarding</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_firewall_item2" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/natfw_dmz.html"><font color="#000000">Demilitarized Zone</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_firewall_item3" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/natfw_upnp.html"><font color="#000000">UPnP</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_firewall_item4" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/bridge_filter.html"><font color="#000000">Layer 2 Filter</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_firewall_item5" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/natfw_filter.html"><font color="#000000">Layer 3 Filter</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_firewall_item6" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/natfw_vpnpassthrough.html"><font color="#000000">NAT Passthrough</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_adv_item6"><td colspan="3" class="section" onclick='setMenuFlag("adv",1,4);' onmouseover='changeCursor("adv",4);' height="20" width="170" background="Phone_files/blu_bar.gif">&nbsp;&nbsp;&nbsp;<img id="id_adv_item5" src="Phone_files/up.gif" height="12" width="12">&nbsp;<font color="#FFFFFF">Advanced Setup</font></td></tr><tr id="id_adv_item1" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/advanced_route.html"><font color="#000000">Route Settings</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_adv_item2" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/static_dns.html"><font color="#000000">DNS Settings</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_adv_item3" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_syslog.html"><font color="#000000">System Log</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_adv_item4" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/igmp_setting.html"><font color="#000000">IGMP Proxy/Snooping</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_phone_item6"><td colspan="3" class="section" onclick='setMenuFlag("phone",1,4);' onmouseover='changeCursor("phone",4);' height="20" width="170" background="Phone_files/blu_bar.gif">&nbsp;&nbsp;&nbsp;<img id="id_phone_item5" src="Phone_files/up.gif" height="12" width="12">&nbsp;<font color="#FFFFFF">Telephony</font></td></tr><tr id="id_phone_item1" height="20"><td width="5" bgcolor="#ADAE9D">&nbsp;</td><td class="leftLink" width="155" bgcolor="#ADAE9D"><a href="http://192.168.2.1/phone_account.html"><font color="#000000"><span class="selected_css">Account Setup</span></font></a></td><td width="10" align="right" bgcolor="#ADAE9D">&gt;&gt;</td></tr><tr id="id_phone_item2" height="20"><td width="5" bgcolor="#CCCCCC">&nbsp;</td><td class="leftLink" width="155" bgcolor="#CCCCCC"><a href="http://192.168.2.1/phone_service.html"><font color="#000000">Service Settings</font></a></td><td width="10" align="right" bgcolor="#CCCCCC">&nbsp;</td></tr><tr id="id_phone_item3" height="20"><td width="5" bgcolor="#CCCCCC">&nbsp;</td><td class="leftLink" width="155" bgcolor="#CCCCCC"><a href="http://192.168.2.1/phone_server_set.html"><font color="#000000">SIP Server Settings</font></a></td><td width="10" align="right" bgcolor="#CCCCCC">&nbsp;</td></tr><tr id="id_phone_item4" height="20"><td width="5" bgcolor="#CCCCCC">&nbsp;</td><td class="leftLink" width="155" bgcolor="#CCCCCC"><a href="http://192.168.2.1/util_upgradeDialPlan.html"><font color="#000000">Upgrade Dial Plan</font></a></td><td width="10" align="right" bgcolor="#CCCCCC">&nbsp;</td></tr><tr id="id_util_item11"><td colspan="3" class="section" onclick='setMenuFlag("util",1,9);' onmouseover='changeCursor("util",9);' height="20" width="170" background="Phone_files/blu_bar.gif">&nbsp;&nbsp;&nbsp;<img id="id_util_item10" src="Phone_files/down.gif" height="12" width="12">&nbsp;<font color="#FFFFFF">Utilities</font></td></tr><tr id="id_util_item1" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_cfgstore.html"><font color="#000000">Configuration Backup</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_util_item2" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_cfgrestore.html"><font color="#000000">Configuration Restore</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_util_item3" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_webfirmware.html"><font color="#000000">Firmware Upgrade</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_util_item4" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/bootloader.html"><font color="#000000">Bootloader Upgrade</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_util_item5" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_system.html"><font color="#000000">System Settings</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_util_item6" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_remotemanagement.html"><font color="#000000">CWMP Management</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_util_item7" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_ping.html"><font color="#000000">Connection Test</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_util_item8" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_factory.html"><font color="#000000">Restore Factory Defaults</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr><tr id="id_util_item9" style="display:none" height="20"><td width="5" bgcolor="#FFFFFF">&nbsp;</td><td class="leftLink" width="155" bgcolor="#FFFFFF"><a href="http://192.168.2.1/util_reboot.html"><font color="#000000">Reboot Gateway</font></a></td><td width="10" align="right" bgcolor="#FFFFFF">&nbsp;</td></tr></tbody></table></td><td height="100%" valign="top" width="1" bgcolor="#CCCCCC"><img src="Phone_files/shim.gif" height="1" width="1"></td>
    <td valign="top" align="left">
<form id="id_sip_form" name="account_form" method="post">
<input name="nosave_accountIndex" value="0" type="hidden">
<input name="nosave_apply" value="1" disabled="disabled" type="hidden">
<input name="nosave_both" value="1" disabled="disabled" type="hidden">
<input name="nosave_rs" value="1" disabled="disabled" type="hidden">
	<div class="direction">
	    <br>&nbsp;&nbsp;&nbsp;Telephony&nbsp;&gt;&nbsp;Account Setup
	</div>
	    <table cellpadding="0" cellspacing="0" border="0">
		<tbody><tr>
		    <td colspan="4" height="30">&nbsp;</td>
		</tr>
		<tr>
    		    <td width="30">&nbsp;</td>
		    <td colspan="3">
			<table cellpadding="0" cellspacing="0" border="0">
			    <tbody><tr>
				<td width="280"><b><span>Configuration of Account</span></b></td>
				<td>																																												
				    <select name="SIPAccountNum" id="id_SIPAccountNum" onclick="edit_rule_select();" onchange="edit_rule_select();">
		      	<!--<option value='New'>Create VoIP Account</option>--><!--//fanny edit 2012/05/10 marked-->
            <!--		<option value="New">Create VoIP Account</option>
<option value="111">111</option>
<option value="222">222</option>
-->
							<script language="javascript" type="text/javascript">
							for (i=0;i<NodeLength_SIPAcnt;i++)
							{
								value=getNodeValue("SIPAccount","PhoneNumber",i);
								document.write("<option value="+value+">"+value+"</option>");
							}
            
							</script><option selected="selected" value="111">111</option><option value="222">222</option>		
				    </select>
				</td>
				<td width="10">&nbsp;</td>
    			    </tr>
  			</tbody></table>		
  		    </td>
  		</tr>
    		<tr>
		    <td colspan="4" height="20">&nbsp;</td>
		</tr>
		<tr>
		    <td height="50" width="30">&nbsp;</td>
		    <td colspan="3">
<!--Account-->
			<table cellpadding="0" cellspacing="0" width="600" border="0">
    		  	<tbody><tr height="30">
				<td width="30">&nbsp;</td>
      			<td colspan="3"><b>
      					<input id="mm_id_item" name="nosave_id_item" value="0" type="hidden">
      				    <input id="mm_enable_item" name="nosave_en_item" value="1" type="hidden">
      				    <input checked="checked" id="id_enable_item" onclick="setValue('enable_item');" type="checkbox">
      				    <span>Enable this Account</span></b></td>
    		  	</tr>
    		  	<tr height="30">
				<td>&nbsp;</td>
				<td><b><span>Phone Number </span></b></td>
				<td colspan="2"><input name="nosave_pngroup_item" id="id_pn_item" size="32" maxlength="64" value="111" class="text" type="text"></td>
		  	    </tr>
			    <tr height="30">
				<td>&nbsp;</td>
				<td><b><span>Display Name </span></b></td>
				<td colspan="2"><input name="nosave_dsgroup_item" id="id_ds_item" size="32" maxlength="64" value="111" class="text" type="text"></td>
			    </tr>
			    <!--User Name-->
			    <tr height="30">
				<td>&nbsp;</td>
				<td width="250"><b><span>User Name </span></b></td>
				<td colspan="2"><input name="nosave_ungroup_item" id="id_un_item" size="32" maxlength="64" value="111" class="text" type="text"></td>
			    </tr>
			    <tr height="30">
				<td>&nbsp;</td>
				<td width="250"><b><span>Authentication User Name </span></b></td>
				<td colspan="2"><input name="nosave_angroup_item" id="id_an_item" size="32" maxlength="64" value="111" class="text" type="text"></td>
			    </tr>
			    <tr height="30">
				<td>&nbsp;</td>
				<td><b><span>Authentication Password </span></b></td>
				<td colspan="2"><input name="nosave_apgroup_item" id="id_ap_item" size="32" maxlength="64" value="" onclick="clearText('id_ap_item')" class="passwd" type="password"></td>
			    </tr>
			    <tr height="30">
                <td>&nbsp;</td>
                <td><b><span>Realm </span></b></td>
                <td colspan="2"><input name="nosave_argroup_item" id="id_ar_item" size="32" maxlength="64" class="text" type="text"></td>
                </tr>
<!-- Server setting start-->
			    
<!-- Server setting start-->                         

    		  	<tr height="30">
				<td width="30">&nbsp;</td>
      			<td colspan="3"><b>
      				    <input id="mm_dnd_item" name="nosave_dnd_item" value="0" type="hidden">
      				    <input id="id_dnd_item" onclick="setValue('dnd_item');" type="checkbox">
      				    <span>Do Not Disturb</span></b></td>
    		  	</tr>
    		  	<tr height="30">
				<td width="30">&nbsp;</td>
      			<td colspan="3"><b>
      				    <input id="mm_clir_item" name="nosave_clir_item" value="0" type="hidden">
      				    <input id="id_clir_item" onclick="setValue('clir_item');" type="checkbox">
      				    <span>Hide Calling Identity</span></b></td>
    		  	</tr>
    		  	<tr height="30">
				<td width="30">&nbsp;</td>
      			<td colspan="3"><b>
      				    <input id="mm_acallrj_item" name="nosave_acallrj_item" value="0" type="hidden">
      				    <input id="id_acallrj_item" onclick="setValue('acallrj_item');" type="checkbox">
      				    <span>Anonymous Call Rejection</span></b></td>
    		  	</tr>
    		  	
    		  	<tr height="30">
				<td width="30">&nbsp;</td>
      			<td><b>
      				    <input id="mm_uncnd_item" name="nosave_uncnd_item" value="0" type="hidden">
      				    <input id="id_uncnd_item" onclick="setValue('uncnd_item');enableFTN();" type="checkbox">
      				    <span>Call Forwarding Unconditional</span></b></td>
      				    <td colspan="2"><b><span>FTN</span></b>
      				    <input disabled="disabled" id="id_ncndftn_item" name="nosave_uncndgroup_item" size="32" maxlength="64" class="text" type="text"></td>
    		  	</tr>
    		  	<tr height="30">
				<td width="30">&nbsp;</td>
      			<td><b>
      				    <input id="mm_busy_item" name="nosave_busy_item" value="0" type="hidden">
      				    <input id="id_busy_item" onclick="setValue('busy_item');enableFTN();" type="checkbox">
      				    <span>Call Forwarding On Busy</span></b></td>
      				    <td colspan="2"><b><span>FTN</span></b>
      				    <input disabled="disabled" id="id_busyftn_item" name="nosave_busygroup_item" size="32" maxlength="64" class="text" type="text"></td>
    		  	</tr>
    		  	<tr height="30">
				<td width="30">&nbsp;</td>
      			<td><b>
      				    <input id="mm_norply_item" name="nosave_norply_item" value="0" type="hidden">
      				    <input id="id_norply_item" onclick="setValue('norply_item');enableFTN();" type="checkbox">
      				    <span>Call Forwarding No Reply</span></b></td>
      				    <td colspan="2"><b><span>FTN</span></b>
      				    <input disabled="disabled" id="id_norplyftn_item" name="nosave_norplygroup_item" size="32" maxlength="64" class="text" type="text"></td>
    		  	</tr>			
			</tbody></table>
	  	    </td>
	  	</tr>
	      	<tr>
		    <td colspan="4" height="20">&nbsp;</td>
		</tr>
	      	<tr>
		    <td colspan="4" height="20">&nbsp;</td>
		</tr>
		<tr>
		<td>&nbsp;</td>

		<td style="font-size:12px;color:red" height="20" width="550" align="right">FTN:Forwarded To Number</td>	

		<td colspan="2" width="220">&nbsp;</td>
		</tr> 
<!-- Attention-->
		<tr>
     		    <td>&nbsp;</td>
     		    <td width="550" bgcolor="#cccccc"><b>
     			Attention: After completing this "Account Setup" page you still 
have to map your   			Account to a Line via the "Account Line Mapping" 
page in order to receive incoming	  		and make outgoing calls.</b></td>
		    <td colspan="2" width="220">&nbsp;</td>
   	  	</tr>
	      	<tr>
		    <td colspan="4" height="20">&nbsp;</td>
		</tr>
     		<tr>
		    <td width="30">&nbsp;</td>
		    <td height="30" align="center">
		        <input class="submitBtn" id="aplyChng" style="{width:100px;}" value="Save" onclick="set_server();" type="button">
		        <input class="submitBtn" id="ChngRSVoIP" style="{width:150px;}" value="Activate VoIP Account" onclick="ar_server();" type="button">		
		    </td>
		    <td colspan="2">&nbsp;</td>
		</tr>
		<tr height="40">
		    <td width="30">&nbsp;</td>
       		    <td colspan="3">&nbsp;</td>
       		</tr>
	</tbody></table>
    </form>
    <form id="id_sip_form" name="account_edit_form" method="post">	
    <input name="nosave_delete" value="0" disabled="disabled" type="hidden">
    <input name="nosave_del_ID" value="0" disabled="disabled" type="hidden">
    <input name="nosave_enable" value="0" disabled="disabled" type="hidden">

	<script language="javascript" type="text/javascript">

    var NodeLength_VicPrflENTRY=getNodeLength("VoiceProfileENTRY");  
    for (i=0;i<NodeLength_VicPrflENTRY;i++)
    {
        value=getNodeValue("VoiceProfileENTRY","ID",i);
        document.write("<input type='hidden' value='"+value+"' id='id_hidden_id"+(i+1)+"'>");
		
    }

		for (i=0;i<NodeLength_SIPAcnt;i++)
		{
        value=getNodeValue("SIPAccount","Enable",i);
        if (value=="1")
				document.write("<input type='hidden' value='1' id='id_hidden_en"+(i+1)+"'>");	
			else
				document.write("<input type='hidden' value='0' id='id_hidden_en"+(i+1)+"'>");
		}
	</script><input value="0" id="id_hidden_id1" type="hidden"><input value="1" id="id_hidden_id2" type="hidden"><input value="1" id="id_hidden_en1" type="hidden"><input value="1" id="id_hidden_en2" type="hidden">	
    


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","PhoneNumber",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_pn"+(i+1)+"'>");    
    }

	</script><input value="111" id="id_hidden_pn1" type="hidden"><input value="222" id="id_hidden_pn2" type="hidden">



	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","DisplayName",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_ds"+(i+1)+"'>");    
    }
			
	</script><input value="111" id="id_hidden_ds1" type="hidden"><input value="222" id="id_hidden_ds2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","UserName",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_un"+(i+1)+"'>");    
    }

	</script><input value="111" id="id_hidden_un1" type="hidden"><input value="222" id="id_hidden_un2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","AuthUserName",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_an"+(i+1)+"'>");    
    }
			
	</script><input value="111" id="id_hidden_an1" type="hidden"><input value="222" id="id_hidden_an2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","Password",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_ap"+(i+1)+"'>");    
    }

	</script><input value="111" id="id_hidden_ap1" type="hidden"><input value="222" id="id_hidden_ap2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","Realm",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_ar"+(i+1)+"'>");    
    }
			
	</script><input value="" id="id_hidden_ar1" type="hidden"><input value="" id="id_hidden_ar2" type="hidden">



	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
			{
        value=getNodeValue("SIPAccount","Dnd",i);
				if (value=="1")
				document.write("<input type='hidden' value='1' id='id_hidden_dnd"+(i+1)+"'>");	
			else
				document.write("<input type='hidden' value='0' id='id_hidden_dnd"+(i+1)+"'>");
			}
		
	</script><input value="0" id="id_hidden_dnd1" type="hidden"><input value="0" id="id_hidden_dnd2" type="hidden">



	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
			{
        value=getNodeValue("SIPAccount","Clir",i);
				if (value=="1")
				document.write("<input type='hidden' value='1' id='id_hidden_clir"+(i+1)+"'>");	
			else
				document.write("<input type='hidden' value='0' id='id_hidden_clir"+(i+1)+"'>");
			}
		
	</script><input value="0" id="id_hidden_clir1" type="hidden"><input value="0" id="id_hidden_clir2" type="hidden">



	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
			{
        value=getNodeValue("SIPAccount","AnonymousReject",i);
				if (value=="1")
				document.write("<input type='hidden' value='1' id='id_hidden_acallrj"+(i+1)+"'>");	
			else
				document.write("<input type='hidden' value='0' id='id_hidden_acallrj"+(i+1)+"'>");
			}
	
	</script><input value="0" id="id_hidden_acallrj1" type="hidden"><input value="0" id="id_hidden_acallrj2" type="hidden">



	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
			{
        value=getNodeValue("SIPAccount","CFU",i);
				if (value=="1")
				document.write("<input type='hidden' value='1' id='id_hidden_uncnd"+(i+1)+"'>");	
			else
				document.write("<input type='hidden' value='0' id='id_hidden_uncnd"+(i+1)+"'>");
			}
		
	</script><input value="0" id="id_hidden_uncnd1" type="hidden"><input value="0" id="id_hidden_uncnd2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
			{
        value=getNodeValue("SIPAccount","CFB",i);
				if (value=="1")
				document.write("<input type='hidden' value='1' id='id_hidden_busy"+(i+1)+"'>");	
			else
				document.write("<input type='hidden' value='0' id='id_hidden_busy"+(i+1)+"'>");
			}
	
	</script><input value="0" id="id_hidden_busy1" type="hidden"><input value="0" id="id_hidden_busy2" type="hidden">



	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
			{
        value=getNodeValue("SIPAccount","CFNR",i);
				if (value=="1")
				document.write("<input type='hidden' value='1' id='id_hidden_norply"+(i+1)+"'>");	
			else
				document.write("<input type='hidden' value='0' id='id_hidden_norply"+(i+1)+"'>");
			}
		
	</script><input value="0" id="id_hidden_norply1" type="hidden"><input value="0" id="id_hidden_norply2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","CFUNumber",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_ncndftn"+(i+1)+"'>");    
    }

	</script><input value="" id="id_hidden_ncndftn1" type="hidden"><input value="" id="id_hidden_ncndftn2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","CFBNumber",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_busyftn"+(i+1)+"'>");    
    }
			
	</script><input value="" id="id_hidden_busyftn1" type="hidden"><input value="" id="id_hidden_busyftn2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","CFNRNumber",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_norplyftn"+(i+1)+"'>");    
    }

	</script><input value="" id="id_hidden_norplyftn1" type="hidden"><input value="" id="id_hidden_norplyftn2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    var NodeLength_SIP=getNodeLength("SIP");
    for (i=0;i<NodeLength_SIP;i++)
    {
        value=getNodeValue("SIP","RegistrarServer",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_regserip"+(i+1)+"'>");    
    }

	</script><input value="" id="id_hidden_regserip1" type="hidden"><input value="" id="id_hidden_regserip2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    var NodeLength_SIP=getNodeLength("SIP");
    for (i=0;i<NodeLength_SIP;i++)
    {
        value=getNodeValue("SIP","RegistrarServerPort",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_regserport"+(i+1)+"'>");    
    }

	</script><input value="5060" id="id_hidden_regserport1" type="hidden"><input value="5060" id="id_hidden_regserport2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    var NodeLength_SIP=getNodeLength("SIP");
    for (i=0;i<NodeLength_SIP;i++)
    {
        value=getNodeValue("SIP","OutboundProxy",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_outprxyip"+(i+1)+"'>");    
    }

	</script><input value="" id="id_hidden_outprxyip1" type="hidden"><input value="" id="id_hidden_outprxyip2" type="hidden">
		


	<script language="javascript" type="text/javascript">

    var NodeLength_SIP=getNodeLength("SIP");
    for (i=0;i<NodeLength_SIP;i++)
    {
        value=getNodeValue("SIP","OutboundProxyPort",i);
				document.write("<input type='hidden' value='"+value+"' id='id_hidden_outprxyport"+(i+1)+"'>");    
    }
			
	</script><input value="5060" id="id_hidden_outprxyport1" type="hidden"><input value="5060" id="id_hidden_outprxyport2" type="hidden">

	    <table cellpadding="0" cellspacing="0" border="0">		
		<tbody><tr>
		    <td width="30">&nbsp;</td>
		    <td colspan="3">
			<table cellpadding="0" cellspacing="0" align="center" border="0">
			    <tbody><tr>
				<td height="30" width="70" align="center"><b>Enable</b></td>
				<td width="150" align="center"><b>Phone Number</b></td>
				<td width="150" align="center"><b>Status</b></td>
				<td width="150" align="center"><b>MWI-messages</b></td>
				<td width="150" align="center">&nbsp;</td>
			    </tr>
			    <tr>
			    <td colspan="5" align="center">
			    <hr noshade="noshade" size="1">
			    </td>
			  </tr>
			
		<script language="javascript" type="text/javascript">

    var value2;
    var value3;
    var value4;

    for (i=0;i<NodeLength_SIPAcnt;i++)
    {
        value=getNodeValue("SIPAccount","Enable",i);
        value2=getNodeValue("SIPAccount","PhoneNumber",i);
        value3=getNodeValue("SIPAccount","RegisterFailed",i);
        value4=getNodeValue("SIPAccount","MwiMessageLed",i);
				if (value=="1")
					document.write("<td width='70' align='center'><input name='' type='checkbox'  checked/></td>");
				else
					document.write("<td width='70' align='center'><input name='' type='checkbox'  /></td>");
					document.write("<td width='150' align='center'>"+value2+"</td>");
				if (value3=="1")
					document.write("<td width='150' align='center'>Registered</td>");
				else
					document.write("<td width='150' align='center'>UnRegistered</td>");
					document.write("<td width='150' align='center'>"+value4+"</td>");
					document.write("<td width='150' align='center'>");
					document.write("<input type='button' class='submitBtn' value='Edit' onclick='edit_rule("+(i)+");'>");//fanny edit remove +1
					//document.write("<input type='button' class='submitBtn' value='Delete' onclick='delete_rule("+(i)+");'></td>");//fanny edit remove +1
					document.write("</td>");
					document.write("</tr>");	
			}
    
		</script><tr><td width="70" align="center"><input name="" checked="checked" type="checkbox"></td><td width="150" align="center">111</td><td width="150" align="center">UnRegistered</td><td width="150" align="center">1</td><td width="150" align="center"><input class="submitBtn" value="Edit" onclick="edit_rule(0);" type="button"></td></tr><tr><td width="70" align="center"><input name="" checked="checked" type="checkbox"></td><td width="150" align="center">222</td><td width="150" align="center">UnRegistered</td><td width="150" align="center">1</td><td width="150" align="center"><input class="submitBtn" value="Edit" onclick="edit_rule(1);" type="button"></td></tr>	
		
			</tbody></table>
		    </td>
		</tr>
		<tr>
     		    <td colspan="4" height="30">&nbsp;</td>
     		</tr>
	    </tbody></table>
	</form></td>
<script language="javascript" type="text/javascript">
	showTail();
</script></tr></tbody></table>

</body></html>
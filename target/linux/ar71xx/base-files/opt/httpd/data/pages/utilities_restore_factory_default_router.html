<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;	 charset=UTF-8" />
<title>.:: Welcome to the Web-Based Configurator::.</title>
<link href="../css/common.css" rel="stylesheet" type="text/css" />
<link href="../css/zycss.css" rel="stylesheet" type="text/css" />
<script language="javascript" type="text/javascript" src="../js/menu_base.js"></script>
<script language="javascript" type="text/javascript" src="../js/menu.js"></script>
<script language="javascript" type="text/javascript" src="../js/common.js"></script>
<script language="javascript" type="text/javascript" src="../js/fvt.js"></script>
<script type="text/JavaScript">
var NavLang=GetNavLang();

if (NavLang == "ZH")
{
var vMaintenance = "裝置維護";
var vUtilities = "管理工具";
var vReset2Factory = "回復出廠預設值";
var vRestorePaDefault = "部分回復出廠預設值";
var vRestoreFuDefault = "完全回復出廠預設值";
var vPartKeep = "\(保留用戶原設定參數\)";
var vCleanPara = "\(用戶設定參數會完全清除\)";
var vPartNotice1 = "請注意，按下<b>部分回復出廠預設值</b>後，SLID、撥接設定與 Wi-Fi設定將被保存，<br>其餘設定將會全部回復原廠預設值。";
var vPartNotice2 = "按下<b>部分回復出廠預設值</b>後，以下的設定將會被套用:<br>LAN IP: 192.168.1.1"
var vFullNotice1 = "如欲清空所有自訂的設定並復原成原廠設定，請按<b>完全回復出廠預設值</b>";
var vFullNotice2 = "按下<b>完全回復出廠預設值</b>後，以下的設定將會被套用:<br>LAN IP: 192.168.1.1";
var vConfirmPart = "是否要部分回復出廠預設值?\n載入出廠設定之後，系統將會重新啟動";
var vConfirmFull = "是否要完全回復出廠預設值?\n載入出廠設定之後，系統將會重新啟動";
var vFileError = "檔案格式錯誤";
}
else
{
var vMaintenance = "Maintenance";
var vUtilities = "Utilities";
var vReset2Factory = "Reset To Factory Default";
var vRestorePaDefault = "Restore Partial Default";
var vRestoreFuDefault = "Restore Fully Default";
var vPartKeep = " \(Reserve user settings\)";
var vCleanPara = " \(User settings will be erased\)";
var vPartNotice1 = "Notice that, when pressing <b>Restore Partial Default</b>, SLID / PPPoE Account / Wi-Fi Settings will be kept.";
var vPartNotice2 = "When pressing <b>Restore Partial Default</b>, below setting will be applied:<br>LAN IP: 192.168.1.1";
var vFullNotice1 = "If you want to clean all user settings, please press <b>Restore Fully Default</b>";
var vFullNotice2 = "When pressing <b>Restore Fully Default</b>, below setting will be applied:<br>LAN IP: 192.168.1.1";
var vConfirmPart = "Are you sure to restore partial factory default setting?\nIt will restart device when reload partial setting.";
var vConfirmFull = "Are you sure to restore fully factory default setting?\nIt will restart device when reload fully setting.";
var vFileError = "File format error";
}

function checkFileName()
{
   var f =document.form2;
   var name=f.file.value;
   if(name=='')
   {
	  doShowMsg(1, "檔名名稱不得空白！");
	  return false;
   }else
   {
	  return true;
   }
}

//function wait60sec()
//{
//	setTimeout("redirectPage();", 60*1000);
//	return true;
//}
//
//function redirectPage()
//{
//	   window.top.location='http://'+fvt_meta_config('lan0_ip')+'/';
//}

/*
function ConfirmReset()
{
	if (confirm(vConfirmFull))
	{
			document.form3.submit();
			return true;
	}else
	{
			 return false;
	}
}

function ConfirmReset2()
{
	if (confirm(vConfirmPart))
	{
			document.form4.submit();
			return true;
	}else
	{
			 return false;
	}
}
*/
function display(state, type)
{
	if (type == "1") {
		doShowMsg(1, state);
	} else {
		doShowMsg(0, state);
	}
}
function fvt_config_to_local(form_name) {
	fvt_paramlist_clear();
	if(form_name == 'form1') {
	  fvt_paramlist_cat_str('config_download', "1");	 //hidden
	}else if(form_name == 'form2') {
		fvt_paramlist_cat_str('ConfigUpload', "1");
	}else if(form_name == 'form3') {
		 if (confirm(vConfirmFull))
		{
			fvt_paramlist_cat_str('config_default', "1");
			fvt_paramlist_presubmit(form_name);
			document.form3.submit();
			return true;
		}else
		{
			 return false;
		}

	}else if(form_name == 'form4') {
		 if (confirm(vConfirmPart))
		{
			fvt_paramlist_cat_str('config_default_user', "1");
			fvt_paramlist_presubmit(form_name);
			document.form4.submit();
			return true;
		}else
		{
			 return false;
		}
	}

	//window.location.href="wwwctrl.cgi?action=wait_restart";

}
function myDownloadFile(form_name) {
	fvt_config_to_local(form_name);
//	documet.fDownload.submit();
}

</script>
</head>

<body>


<fieldset>
		<div class="lv1_title">
		<script language="javascript" type="text/javascript">
			document.write(vMaintenance+"&nbsp;&gt;&nbsp;"+vUtilities+"&nbsp;&gt;&nbsp;"+vReset2Factory);
		</script>
		</div>
</fieldset>
<div class="container">
<table align="center" width="90%"><tbody>
<tr><td valign="top">
	<div id="loading_pic"  name="loading" style="display:none;">
		<img src="../images/loading.gif" width="50%" height="50%">
	</div>
	<div class="left">
		<br class="clearfloat" />
		<div class="right">
			<br class="clearfloat" />
			<!-- configuration beginning -->
<div id="control_div">
<!--<form id="form4" name="form4" method="post" action="" onsubmit="return ConfirmReset2()">			-->
<form id="form4" name="form4" method="post" action="wwwctrl.cgi?action=wait_restart" target="contentfrm">
			<div class="headline lv5_new"><b>
		<script language="javascript" type="text/javascript">
			document.write(vRestorePaDefault+vPartKeep);
		</script>
			</b></div>
			<table width="90%" border="0" align="center" cellpadding="0" cellspacing="0" class="cfgpadding">
			  <tbody>
				<tr>
				  <td>&nbsp;</td>
				</tr>
			   <tr>
					<td width="95%"><div class="lv5_new">
					<script language="javascript" type="text/javascript">
						document.write(vPartNotice1);
					</script>
					<br>
					<br>
					<script language="javascript" type="text/javascript">
						document.write(vPartNotice2);
					</script>
					<!-- Password:1234 <br /> -->
					</div> </td>
			   </tr>
			   <tr>
				  <td>
					<script language="javascript" type="text/javascript">
						document.write("<input type='button' name='ResetCfgBtn' ");
						document.write("value='"+vRestorePaDefault+"' class='btnstyle' ");
						document.write("onclick=\"return myDownloadFile('form4');\">");
					</script>
				  </td>
				</tr>
				<tr>
				  <td>&nbsp;</td>
				</tr>
			 </tbody>
		  </table>
</form>
<!--<form id="form3" name="form3" method="post" action="" target="_top" onsubmit="return ConfirmReset()">-->
<form id="form3" name="form3" method="post" action="wwwctrl.cgi?action=wait_restart" target="contentfrm">
			<div class="headline lv5_new"><b><span class="cTitle">
			<script language="javascript" type="text/javascript">
				document.write(vRestoreFuDefault+vCleanPara);
			</script>
			</span></b></div>
			<table width="90%" border="0" align="center" cellpadding="0" cellspacing="0" class="cfgpadding">
			  <tbody>
			   <tr>
				  <td>&nbsp;</td>
				</tr>
				<tr>
					<td width="95%"><div class="lv5_new">
					<script language="javascript" type="text/javascript">
						document.write(vFullNotice1);
					</script>
					<br>
					<br>
					<script language="javascript" type="text/javascript">
						document.write(vFullNotice2);
					</script>
					<br>
					</div></td>
				</tr>
				<tr>
				  <!--<td><input name="ResetCfgBtn" value="Reset" type="submit" /></td>-->
				  <td>
				  	<script language="javascript" type="text/javascript">
						document.write("<input type='button' name='Restore Defaults' ");
						document.write("value='"+vRestoreFuDefault+"' class='btnstyle' ");
						document.write("onclick=\"return myDownloadFile('form3');\">");
					</script>
				  </td>
				</tr>
			  </tbody>
		  </table>
</form>
</div id="control_div">

<div id="id_wait_div" style="display:none;">
	<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table width="540"	border="2" align="center" cellpadding="0" cellspacing="0" bordercolor="#BFC4CA" background="../images/config_bg.gif">
  <tr>
	<td><table width="100%"	 border="0" align="center" cellpadding="0" cellspacing="0">
		<td colspan="3"><table width="100%" border="0" cellspacing="0" cellpadding="0">
		  <tr>
			<td bgcolor="#ffffff"><img src="../images/logo.jpg" width="169" height="50"></td>
		  </tr>
		  <tr>
			<td height="4" bgcolor="#AA1931"><img src="../images/dotspacer.gif" width="1" height="1"></td>
		  </tr>
		</table></td>
		</tr>
		<tr>
		  <td height="28">&nbsp;</td>
		  <td>&nbsp;</td>
		  <td>&nbsp;</td>
		</tr>
		<tr>
		  <td width="8%">&nbsp;</td>
		  <td width="86%" valign="top"><table width="75%"  border="0" align="center">
			  <tr>
				<td width="30%" align="center"><img src="../images/waiting.gif" width="48" height="67" align="absmiddle"></td>
				<td class="style1">Rebooting <br>
				Please wait ... </td>
			  </tr>
			  <tr>
				<td colspan="2">&nbsp;</td>
			  </tr>
			  <tr align="center">
				<td colspan="2"><p>System rebooting<br>
				  please re-login later</p>
				</td>
			  </tr>
			  <tr>
				<td height="35" colspan="2">&nbsp;</td>
			  </tr>
		  </table></td>
		  <td width="6%">&nbsp;</td>
		</tr>
	</table></td>
  </tr>
</table>
</div>
			<div class="btn-block2"></div>
			<!-- configuration ending -->
			<br class="clearfloat" />
		</div>
		<br class="clearfloat" />
	</div>
</div>
<div class="config-bottom"><br class="clearfloat" /></div><br />
</td></tr>
</tbody></table>
</body>


</html>


<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../css/common.css" media="all">
<script language="javascript" type="text/javascript" src="../js/menu_base.js"></script>
<script language="javascript" type="text/javascript" src="../js/menu.js"></script>
<script language="javascript" type="text/javascript" src="../js/common.js"></script>
<script language="javascript" type="text/javascript" src="../js/fvt.js"></script>


<script language="javascript" type="text/javascript">

var dnsRouteNum = 10;

function list_netmask(index)
{
	var m = index;
	document.write("<select ctrlflip='etc' name='dnsRouteNetmask"+m+"' value='' class='width_selectip' id='id_dnsRouteNetmask"+m+"'>");
	document.write("<option value='255.255.255.255'>255.255.255.255</option>");
	document.write("<option value='255.255.255.254'>255.255.255.254</option>");
	document.write("<option value='255.255.255.252'>255.255.255.252</option>");
	document.write("<option value='255.255.255.248'>255.255.255.248</option>");
	document.write("<option value='255.255.255.240'>255.255.255.240</option>");
	document.write("<option value='255.255.255.224'>255.255.255.224</option>");
	document.write("<option value='255.255.255.192'>255.255.255.192</option>");
	document.write("<option value='255.255.255.128'>255.255.255.128</option>");
	document.write("<option value='255.255.255.0'>255.255.255.0</option>");
	document.write("<option value='255.255.254.0'>255.255.254.0</option>");
	document.write("<option value='255.255.252.0'>255.255.252.0</option>");
	document.write("<option value='255.255.248.0'>255.255.255.0</option>");
	document.write("<option value='255.255.240.0'>255.255.240.0</option>");
	document.write("<option value='255.255.224.0'>255.255.224.0</option>");
	document.write("<option value='255.255.192.0'>255.255.192.0</option>");
	document.write("<option value='255.255.128.0'>255.255.128.0</option>");
	document.write("<option value='255.255.0.0'>255.255.0.0</option>");
	document.write("<option value='255.254.0.0'>255.254.0.0</option>");
	document.write("<option value='255.252.0.0'>255.252.0.0</option>");
	document.write("<option value='255.248.0.0'>255.248.0.0</option>");
	document.write("<option value='255.240.0.0'>255.240.0.0</option>");
	document.write("<option value='255.224.0.0'>255.224.0.0</option>");
	document.write("<option value='255.192.0.0'>255.192.0.0</option>");
	document.write("<option value='255.128.0.0'>255.128.0.0</option>");
	document.write("<option value='255.0.0.0'>255.0.0.0</option>");
	document.write("<option value='254.0.0.0'>254.0.0.0</option>");
	document.write("<option value='252.0.0.0'>252.0.0.0</option>");
	document.write("<option value='248.0.0.0'>248.0.0.0</option>");
	document.write("<option value='240.0.0.0'>240.0.0.0</option>");
	document.write("<option value='224.0.0.0'>224.0.0.0</option>");
	document.write("<option value='192.0.0.0'>192.0.0.0</option>");
	document.write("<option value='128.0.0.0'>128.0.0.0</option>");
	document.write("</select>");
}

function get_wan_count()
{
	var key;
	var i=0;

	for(i=0; i<8;i++)
	{
		key = "wan"+i+"_if_name";
		if( fvt_meta_config(key) == "")
			return i;
	}
}

function list_interface(index)
{
	var m = index;
	var i=0;
	var inf_key;
	var inf_val;
	var inf_name;
	var wan_num = get_wan_count();
	document.write("<select ctrlflip='etc' name='dnsRouteInf"+m+"' value='' class='width_selectip' id='id_dnsRouteInf"+m+"'>");
	
	for(i=0; i<wan_num; i++)
	{
		inf_name = fvt_meta_config("wan"+i+"_if_name");
		inf_key = "dev_wan"+i+"_interface";
		inf_val = fvt_meta_config(inf_key);
		document.write("<option value="+inf_val+">"+inf_name+"</option>");
	}
	document.write("</select>");
}

function changeMode()
{
	var val;
	var i;
	var domain;
	if (document.getElementById('dnsRouteEnable').value==0)
		val=true;
	else
		val=false;

	for(i=1;i<=dnsRouteNum;i++)
	{
		document.getElementById("id_dnsDomain"+i).disabled = val;
		document.getElementById("id_dnsRouteNetmask"+i).disabled = val;
		document.getElementById("id_dnsRouteInf"+i).disabled = val;
	}
}

function fvt_form_init(form_name) 
{
	if (form_name=='dnsRoute_form' || form_name=='*') {
		fvt_form_obj_set("dnsRoute_form", "dnsRouteEnable", fvt_meta_config('dnsmasq_route_enable'));
		for(i=0;i<dnsRouteNum;i++)
		{
			fvt_form_obj_set("dnsRoute_form", "dnsDomain"+(i+1), fvt_meta_config('dnsmasq_route_domain_'+i));		//text
			fvt_form_obj_set("dnsRoute_form", "dnsRouteNetmask"+(i+1), fvt_meta_config('dnsmasq_route_netmask_'+i));		//text
			fvt_form_obj_set("dnsRoute_form", "dnsRouteInf"+(i+1), fvt_meta_config('dnsmasq_route_wan_'+i));		//password
			changeMode();
		}
	}
}

function fvt_form_submit(form_name) 	{
	fvt_paramlist_clear();
	if (form_name=='dnsRoute_form' || form_name=='*') {
		fvt_paramlist_cat_str('dnsmasq_route_enable', fvt_form_obj_get("dnsRoute_form", "dnsRouteEnable"));		//select-one
		for(i=0; i<=dnsRouteNum; i++)
		{
			
			fvt_paramlist_cat_str('dnsmasq_route_domain_'+i, fvt_form_obj_get("dnsRoute_form", "dnsDomain"+(i+1)));		//text
			fvt_paramlist_cat_str('dnsmasq_route_netmask_'+i, fvt_form_obj_get("dnsRoute_form", "dnsRouteNetmask"+(i+1)));		//text
			fvt_paramlist_cat_str('dnsmasq_route_wan_'+i, fvt_form_obj_get("dnsRoute_form", "dnsRouteInf"+(i+1)));		//password
		}
		
	}
	fvt_paramlist_presubmit(form_name);
	
}

function applychange()
{
	fvt_form_submit('dnsRoute_form');
	//document.dnsRoute_form.submit();
	document.getElementById('dnsRoute_form').submit();

}
</script>
</head>

<body align="left" onload="fvt_form_init('dnsRoute_form');">
<div id="container">
<table align="center" width="90%"><tbody>
<tr><td valign="top">
<form id="dnsRoute_form" name="dnsRoute_form" method="post">
	<fieldset>
		<div class="lv1_title">Advanced Setup&nbsp;&gt;&nbsp;DNS Route</div>
	</fieldset>		
<div class="div1_indent">
	<div class="lv2_new">	
		<table>		
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Route Enable</div></td>
				<td><select ctrlflip="etc" name="dnsRouteEnable" id="dnsRouteEnable" onchange="changeMode()" class="width_select80">
						<option value="0">Disable</option>
						<option value="1">Enable</option>								
					</select>
				</td>
			</tr>
		</table>			
	</div>
	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route1</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 1</div></td>
				<td>
					<input name="dnsDomain1" id="id_dnsDomain1" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(1);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(1);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>
	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 2</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 2</div></td>
				<td>
					<input name="dnsDomain2" id="id_dnsDomain2" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(2);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(2);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>
	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 3</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 3</div></td>
				<td>
					<input name="dnsDomain3" id="id_dnsDomain3" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(3);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(3);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>
	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 4</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 4</div></td>
				<td>
					<input name="dnsDomain4" id="id_dnsDomain4" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(4);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(4);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>
	
	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 5</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 5</div></td>
				<td>
					<input name="dnsDomain5" id="id_dnsDomain5" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(5);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(5);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>
	<div><hr class="hr2"></div>
	
	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 6</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 6</div></td>
				<td>
					<input name="dnsDomain6" id="id_dnsDomain6" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(6);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(6);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>
	
	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 7</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 7</div></td>
				<td>
					<input name="dnsDomain7" id="id_dnsDomain7" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(7);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(7);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>
	
	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 8</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 8</div></td>
				<td>
					<input name="dnsDomain8" id="id_dnsDomain8" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(8);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(8);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>

	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 9</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 9</div></td>
				<td>
					<input name="dnsDomain9" id="id_dnsDomain9" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(9);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(9);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>

	<div><hr class="hr2"></div>
	<div class="lv2_new">
		<div class="lv1_new div1_topbottom" ctrlflip="right" ctrlid="290">DNS Route 10</div>			
		<table>		
						
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">DNS Domain 10</div></td>
				<td>
					<input name="dnsDomain10" id="id_dnsDomain10" class="width_select80"></input>
				</td>
			</tr>
			
			<tr><td class="widthddns1"><div ctrlflip="right" ctrlid="260">Netmask</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_netmask(10);
					</script>	
				</td>
			</tr>
			
			<tr><td><div ctrlflip="right" ctrlid="261">Interface</div></td>
				<td>
					<script language="javascript" type="text/javascript">
						list_interface(10);
					</script>	
				</td>
			</tr>
			
		</table>			
	</div>
	
	<div class="top_cwmp2">
	<table><tbody>
		<tr>
			<td></td>
			<td class="button_center">
				<input ctrlflip="etc" id="apply_btn" type="button" name="applybtn" value="Apply Changes" onclick="applychange();" class="width_apply">	
			</td>
		</tr>
	</tbody></table>
	</div>
</div>
</form>
</td></tr>	
</tbody></table>
</div>


<br>		
</body>
</html>





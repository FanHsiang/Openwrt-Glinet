<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../css/common.css" media="all">
<script language="javascript" type="text/javascript" src="../js/menu_base.js"></script>
<script language="javascript" type="text/javascript" src="../js/menu.js"></script>
<script language="javascript" type="text/javascript" src="../js/common.js"></script>
<script language="javascript" type="text/javascript" src="../js/fvt.js"></script>
<style>
th {
    color: #00008B;
    font-weight: bold;
	text-align: center;
}
div.cells{color:#2F4F8F}
</style>

<script language="javascript" type="text/javascript">
function check_process()
{
	var process="Success";
	if (process=="Existed")
		warn_wait();
		//alert("Please wait!!Another client is upgading firmware.");
}

function change_duplex()
{
	for(var i=1;i<=4;i++)
	{
		if(document.getElementById("eth"+i+"_speed").value=="0")
		{
			document.getElementById("eth"+i+"_mode").disabled = true;
			document.getElementById("eth"+i+"_mode").options[0].innerHTML = "Auto";
			document.getElementById("eth"+i+"_mode").options[1].innerHTML = "Atuo";
		}
		else if(document.getElementById("eth"+i+"_speed").value=="1000")
		{
			document.getElementById("eth"+i+"_mode").disabled = false;
			document.getElementById("eth"+i+"_mode").options[1].disabled = true;
			document.getElementById("eth"+i+"_mode").options[0].selected = true;
			document.getElementById("eth"+i+"_mode").options[0].innerHTML = "Full Duplex";
			document.getElementById("eth"+i+"_mode").options[1].innerHTML = "Half Duplex";
		}
		else
		{
			document.getElementById("eth"+i+"_mode").disabled = false;
			document.getElementById("eth"+i+"_mode").options[1].disabled = false;
			document.getElementById("eth"+i+"_mode").options[0].innerHTML = "Full Duplex";
			document.getElementById("eth"+i+"_mode").options[1].innerHTML = "Half Duplex";
		}
	}
}

function setting_config()
{
	fvt_form_submit('lanport_config');
	document.getElementById('id_wait_progress').style.display="";
	document.lanport_config.submit();
}

function fvt_form_init(form_name)
{
	if (form_name=='lanport_config' || form_name=='*') {
		for(var i=0;i<4;i++)
		{
			var config_value = fvt_meta_config("system_port"+i+"_speed");
			var sp = parseInt(config_value);
			var len = config_value.length;
			var mode = config_value.charAt(config_value.length-1);
			fvt_form_obj_set("lanport_config", "eth"+(i+1)+"_speed", sp);
			fvt_form_obj_set("lanport_config", "eth"+(i+1)+"_mode", mode);
		}
	}
	change_duplex();
}

function fvt_form_submit(form_name)		{
	fvt_paramlist_clear();
	if (form_name=='lanport_config' || form_name=='*') {
		for(var i=0;i<4;i++)
		{
			if(fvt_form_obj_get("lanport_config", "eth"+(i+1)+"_speed") == 0)
				fvt_paramlist_cat_str('system_port'+i+'_speed', fvt_form_obj_get("lanport_config", "eth"+(i+1)+"_speed"));		//select-one
			else
				fvt_paramlist_cat_str('system_port'+i+'_speed', fvt_form_obj_get("lanport_config", "eth"+(i+1)+"_speed")+fvt_form_obj_get("lanport_config", "eth"+(i+1)+"_mode"));		//select-one
		}
	}
	fvt_paramlist_presubmit(form_name);
}

function Set_lan_egress()
{
	window.location.href="wwwctrl.cgi?action=lan_egress_set";
}
</script>
</head>

<body align="left" onload="fvt_form_init('lanport_config');">
<div id="container">
<table align="center" width="90%"><tbody>
<tr><td valign="top">
<form id="id_lanport_config" name="lanport_config" method="post">
	<fieldset>
		<div class="lv1_title">Maintenance&nbsp;&gt;&nbsp;Utilities&nbsp;<a href="#" onclick="Set_lan_egress();" style="text-decoration: none; color:#4B0082">&gt;</a>&nbsp;Lan Port Configuration</div>
	</fieldset>
	<div class="lv4_title" style="margin:40px 1em;">
		<table border="0">
		<tr>
			<th class="width_select150">&nbsp;</th>
			<th class="width_select80" align="center"><div>Speed</div></th>
			<th class="width_select80" align="center"><div>Mode</div></th>
		</tr>
		<tr>
			<td><div class="cells">Ethernet port 1</div></td>
			<td>
				<select name="eth1_speed" id="eth1_speed" class="width_select80" onchange="change_duplex();">
					<option value="0">Auto</option>
					<option value="10">10Mbps</option>
					<option value="100">100Mbps</option>
					<option value="1000">1Gbps</option>
				</select>
			</td>
			<td>
				<select name="eth1_mode" id="eth1_mode" class="width_select80">
					<option value="F">Full Duplex</option>
					<option value="H">Half Duplex</option>
				</select>
			</td>
		</tr>
		<tr>
			<td><div class="cells">Ethernet port 2</div></td>
			<td>
				<select name="eth2_speed" id="eth2_speed" class="width_select80" onchange="change_duplex();">
					<option value="0">Auto</option>
					<option value="10">10Mbps</option>
					<option value="100">100Mbps</option>
					<option value="1000">1Gbps</option>
				</select>
			</td>
			<td>
				<select name="eth2_mode" id="eth2_mode" class="width_select80">
					<option value="F">Full Duplex</option>
					<option value="H">Half Duplex</option>
				</select>
			</td>
		</tr>
		<tr>
			<td><div class="cells">Ethernet port 3</div></td>
			<td>
				<select name="eth3_speed" id="eth3_speed" class="width_select80" onchange="change_duplex();">
					<option value="0">Auto</option>
					<option value="10">10Mbps</option>
					<option value="100">100Mbps</option>
					<option value="1000">1Gbps</option>
				</select>
			</td>
			<td>
				<select name="eth3_mode" id="eth3_mode" class="width_select80">
					<option value="F">Full Duplex</option>
					<option value="H">Half Duplex</option>
				</select>
			</td>
		</tr>
		<tr>
			<td><div class="cells">Ethernet port 4</div></td>
			<td>
				<select name="eth4_speed" id="eth4_speed" class="width_select80" onchange="change_duplex();">
					<option value="0">Auto</option>
					<option value="10">10Mbps</option>
					<option value="100">100Mbps</option>
					<option value="1000">1Gbps</option>
				</select>
			</td>
			<td>
				<select name="eth4_mode" id="eth4_mode" class="width_select80">
					<option value="F">Full Duplex</option>
					<option value="H">Half Duplex</option>
				</select>
			</td>
		</tr>
		</table>
		<div style="margin-top:40px;">
			<table>
				<tr>
					<td width="500px" align="center"><input type="button" onclick="setting_config()" id="add_applybtn" name="applybtn" class="width_button"	 value="Apply Changes" style="padding:0px 2px;width:auto;height:20px;"><td>
				</tr>
				<tr id="id_wait_progress" style="display:none;position:fixed;top:0px;left:0px;width:100%;height:100%;opacity:0.3;background-color:rgb(0,0,0);">
					<td class="button_center">
						<img src="../images/progress1.gif" style="position:fixed;display:block;top:50%;left:50%;transform:translate(-50%,-50%);">
					</td>
				</tr>
			</table>
		</div>
	</div>
</form>
</td></tr>
</tbody></table>
</div>

<br>
</body>
</html>


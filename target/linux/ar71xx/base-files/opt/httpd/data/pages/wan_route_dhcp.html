<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../css/common.css" media="all">
<script language="javascript" type="text/javascript" src="../js/menu_base.js"></script>
<script language="javascript" type="text/javascript" src="../js/menu.js"></script>
<script language="javascript" type="text/javascript" src="../js/common.js"></script>
<script language="javascript" type="text/javascript" src="../js/fvt.js"></script>

<style type="text/css">
tr.rowt{background-color:#E0E0E0}
tr.rowh{background-color:#F0F0F0}
/* DarkBlue */
div.rowh{color:#00008B}
div.cellt{color:DarkGray}
/* DarkSlateGrey */
div.cells{color:#2F4F4F}
input.dot{margin-right: 5px}
td.contentA{width:65px;height:25px;text-align:left;margin: 0px;padding: 0px}
</style>

<script language="javascript" type="text/javascript">

var ssidNum;
if (fvt_meta_config('wlan_enable') == 1)
	ssidNum = fvt_meta_config('wlan_vap_num');
else
	ssidNum = 0;

var CurItem=URLParams("_aa");
var auParam=URLParams("_au");// 1 add 2 edit
var WanNameParam=URLParams("_aq");
var WanModeParam=URLParams("_ae");
var bindmethodParam=URLParams("_am");//i:portbase 2:macbase 3:nobind
var VoIPParam=URLParams("_av");
var TR069Param=URLParams("_at");
var IGMPParam=URLParams("_ai");
var DeafaultRouteParam=URLParams("_ar");
//("wan_route_dhcp",db,dvt,dvi,dvp,d8,dh,dv,dc,dmt,dm,au,aa,ab)
var bingtypeParam=URLParams("_ab");//when edit have avlid value
var bindParam=URLParams("_db");
var vtypeParam=URLParams("_dvt");
var vidParam=URLParams("_dvi");
var vpbitParam=URLParams("_dvp");
var xParam=URLParams("_d8");
var hostnameParam=URLParams("_dh");
var do60_enParam=URLParams("_do60en");
var	do60_vidParam=URLParams("_do60vid");
var	do61_enParam=URLParams("_do61en");
var	do61_typeParam=URLParams("_do61type");
var	do61_macParam=URLParams("_do61mac");
var	do61_iaidParam=URLParams("_do61iaid");
var	do61_duidParam=URLParams("_do61duid");
var	do125_enParam=URLParams("_do125en");
var	do125_enumParam=URLParams("_do125enum");
var	do125_ouiParam=URLParams("_do125oui");
var	do125_pdcParam=URLParams("_do125pdc");
var	do125_mnParam=URLParams("_do125mn");
var	do125_snumParam=URLParams("_do125snum");

var mtutypeParam=URLParams("_dmt");
var mtuParam=URLParams("_dm");
var natParam=URLParams("_an");
var wanEnableParam=URLParams("_aw");
var maxrule=8;
var VlanCountRut=0; // maybe for later use
var utag_flag=0;
var min_vid=0;
var max_vid=4094;

var link_type;
if (fvt_meta_config('k_link_type') != 'pon0') link_type=fvt_meta_config('k_link_type');
else link_type="pon"+CurItem;

function manual_open(item)
{
	document.getElementById("id_"+item).disabled = false;
}

function manual_close(item, sec)
{
	//document.getElementById("id_"+item).value=sec;
	document.getElementById("id_"+item).disabled = true;
}

function check_host(name,item)
{
	if (!isBlank(name))
	{
		for(i=0;i<name.length;i++)
		{
			c=name.charAt(i);
			if((c!='_')&&(c!='-')&&(c!='.')&&(!((c>='a')&&(c<='z')))&&(!((c>='A')&&(c<='Z')))&&(!((c>='0')&&(c<='9'))))
			{
				warn_char("Host Name","'a' ~ 'z', 'A' ~ 'Z'","'0' ~ '9'");
				//alert("Host Name should be characters in 'a' ~ 'z', 'A' ~ 'Z' and '0' ~ '9' !");
				return false;
			}
		}
	}
	else
	{
		return false;
	}
	return true;
}

function check_process()
{
	var process="";
	if (process=="Existed")
		warn_wait();
		//alert("Please wait!!Another client is upgading firmware.");
}

function cpDUID()
{
	if (document.wanDHCP_form.copyDUID.checked ==true)
	{
		//document.getElementById("id_DHCPduid_append").innerHTML = "&nbsp;"+fvt_meta_config('cwmp_cpe_device_id');
		document.getElementById('id_DHCPduid_append').value = fvt_meta_config('cwmp_cpe_device_id');
		document.wanDHCP_form.DHCPduid_append.disabled=true;
		//document.getElementById("id_DHCPduid_append_Ident").style.display = '';
		//document.getElementById("id_DUID_Title").innerHTML = "&nbsp;&nbsp;"+"Enterprise Number";
	}
	else
	{
		//document.getElementById("id_DHCPduid_append").innerHTML = "";
		//document.getElementById('id_DHCPduid_append').value = fvt_meta_config('wan'+CurItem+'_cht_cht_dhcpv4_opt61_enident');
		document.wanDHCP_form.DHCPduid_append.disabled=false;
		//document.getElementById("id_DHCPduid_append_Ident").style.display = 'none';
		//document.getElementById("id_DUID_Title").innerHTML = "&nbsp;&nbsp;"+"DUID";
	}
	document.getElementById("id_DUID_Title").innerHTML = "&nbsp;&nbsp;"+"Enterprise Number";

	if (document.wanDHCP_form.DHCPClientIdEnable[1].checked == true)
	{
		document.getElementById("id_DHCPduid").disabled = false;
	}
	else
	{
		document.getElementById("id_DHCPduid").disabled = true;
	}
}

function get_utag_flag()
{
	var i = 0;
	for(i=0; i<maxrule; i++)
	{
		var vid_if=fvt_meta_config("dev_wan"+i+"_interface");
		if (vid_if != '')
		{
			var vid = vid_if.split(".");
			if (vid.length == '1')
			{
				utag_flag=1;
			}
		}
	}

}

function check_tagutag()
{
	var wanname_split = new Array();
	var wanname=fvt_meta_config("dev_wan"+CurItem+"_interface");
	wanname_split = wanname.split(".");
	//alert (wanname_split[1]);

	if ( !wanname_split[1] )
	{
	//alert (wanname_split[1]);
		//document.wanDHCP_form.nosave_Utag[0].checked=false;
		//document.wanDHCP_form.nosave_Utag[1].checked=true;
		document.wanDHCP_form.nosave_Utag.value="1";
		manual_close('DHCPVlanId');
	}
	else
	{
		//document.wanDHCP_form.nosave_Utag[0].checked=true;
		//document.wanDHCP_form.nosave_Utag[1].checked=false;
		document.wanDHCP_form.nosave_Utag.value="0";
		manual_open('DHCPVlanId');
	}
}

function Init()
{
	var i;
	var index;
	get_utag_flag();
	/*	if (utag_flag == "1")
	{
		document.wanDHCP_form.DHCPVlanId.disabled=false;
		document.wanDHCP_form.DHCPPBit.disabled=false;
	}*/
	var wan_ipv6_enable = fvt_meta_config("wan"+CurItem+"_ipv6_enable");
	var wan_ipv6_assignment = fvt_meta_config("wan"+CurItem+"_ipv6_assignment");
	//ip_assignment: 0=static, 1=dhcp, 2=pppoe
	if ((wan_ipv6_enable =="1") && (wan_ipv6_assignment =="1"))
	{
		//document.wanPPPoE_form.IPV6Enable[1].checked=true;
		document.getElementById("id_IPV6Enable").checked=true;
		document.getElementById("id_IPV6Disable").checked=false;
		document.getElementById("show_dhcpv6").style.display="table-row";
	}
	else
	{
		//document.wanPPPoE_form.IPV6Enable[0].checked=true;
		document.getElementById("id_IPV6Enable").checked=false;
		document.getElementById("id_IPV6Disable").checked=true;
		document.getElementById("show_dhcpv6").style.display="none";
	}

	var wan_ipv4_enable = fvt_meta_config("wan"+CurItem+"_ip_enable");
	var wan_ipv4_assignment = fvt_meta_config("wan"+CurItem+"_ip_assignment");
	if ((wan_ipv4_enable =="1") && (wan_ipv6_assignment =="1"))
	{
		document.getElementById("id_IPV4Enable").checked=true;
		document.getElementById("id_IPV4Disable").checked=false;
	}
	else
	{
		document.getElementById("id_IPV4Enable").checked=false;
		document.getElementById("id_IPV4Disable").checked=true;
	}

	if (mtutypeParam == "1")
	{
		document.wanDHCP_form.nosave_WanDHCPMtu[1].checked=true;
		document.getElementById("id_DHCPMtu").disabled=false;
	}
	else
	{
		document.wanDHCP_form.nosave_WanDHCPMtu[0].checked=true;
		document.getElementById("id_DHCPMtu").disabled=true;
	}

	document.getElementById('id_DHCPduid_append').value = fvt_meta_config('wan'+CurItem+'_cht_dhcpv4_opt61_enident');

	if (auParam == 1) //Add case
	{
		document.getElementById('id_DHCPVendorId').value = fvt_meta_config("wan"+CurItem+"_cht_vendor_class_id");

		document.getElementById('id_DHCPClientId').value = fvt_meta_config("wan"+CurItem+"_cht_dhcpv4_opt61_mac");
		//document.getElementById('id_DHCPduid').value = fvt_meta_config("wan"+CurItem+"_cht_dhcpv4_opt61_duid");
		//var cht_dhcpv4_opt61_duid_tmp=fvt_meta_config("wan"+CurItem+"_cht_dhcpv4_opt61_duid");
		//var cht_dhcpv4_opt61_duid_tmp = replace_emp(fvt_meta_config("wan"+CurItem+"_cht_dhcpv4_opt61_duid"));

		var do61_duid_mata_o=replace_emp(fvt_meta_config("wan"+CurItem+"_cht_dhcpv4_opt61_duid"));
		var do61_duid_mata=do61_duid_mata_o.replace(/\\x/g, '');
		var cht_dhcpv4_opt61_duid_tmp=HEX2DEC(do61_duid_mata);

		if (fvt_meta_config('wan'+CurItem+'_cht_option61_cp_circuit_id_enable') == '1')
			{
			document.getElementById("id_DUID_Title").innerHTML = "&nbsp;&nbsp;"+"Enterprise Number";
			}
		else
			{
			//cht_dhcpv4_opt61_duid_tmp=fvt_meta_config("wan"+CurItem+"_cht_dhcpv4_opt61_duid");
			document.getElementById("id_DUID_Title").innerHTML = "&nbsp;&nbsp;"+"DUID";
			}

			document.getElementById('id_DHCPduid').value = cht_dhcpv4_opt61_duid_tmp;
		document.getElementById('id_DHCPiaid').value = fvt_meta_config("wan"+CurItem+"_cht_dhcpv4_opt61_iaid");
		document.wanDHCP_form.copyDUID.checked = true;
		cpDUID();

		document.getElementById('id_DHCPEnterpriseNum').value = fvt_meta_config("wan"+CurItem+"_cht_enterprise_number");
		document.getElementById('id_DHCPManufacturerOui').value = fvt_meta_config("wan"+CurItem+"_cht_manufacturer_oui");
		document.getElementById('id_DHCPProductClass').value = fvt_meta_config("wan"+CurItem+"_cht_product_class");
		document.getElementById('id_DHCPModelName').value = fvt_meta_config("wan"+CurItem+"_cht_model_name");
		document.getElementById('id_DHCPSerialNum').value = fvt_meta_config("wan"+CurItem+"_cht_serial_number");
	}
	else if (auParam == 2) //Edit case
	{
		check_tagutag();
		/*
		if (vtypeParam== 1)
		{
			document.getElementById("id_DHCPVlanId").value=vidParam;
			document.getElementById("id_DHCPPBit").value=vpbitParam;
		}
		else
		{
			document.getElementById("id_DHCPVlanId").value="";
			document.getElementById("id_DHCPPBit").value="";
		}
		*/
		document.getElementById("id_DHCPVlanId").value=vidParam;
		document.getElementById("id_DHCPPBit").value=vpbitParam;

		document.getElementById("id_DHCPXsuppEnable").selectedIndex=xParam;
		document.getElementById("id_DHCPHostname").value=hostnameParam;

		document.wanDHCP_form.DHCPVendorIdEnable[do60_enParam].checked=true;
		document.getElementById("id_DHCPVendorId").value=do60_vidParam;

		document.wanDHCP_form.DHCPClientIdEnable[do61_enParam].checked=true;
		if(do61_macParam!="")
		{
			document.wanDHCP_form.DHCPop61_type[0].checked=true;
			document.getElementById("id_DHCPClientId").value=do61_macParam;
		}else if(do61_duidParam!="")
		{
			document.wanDHCP_form.DHCPop61_type[1].checked=true;

			var do61_duid_mata_o=replace_emp(do61_duidParam);
			var do61_duid_mata=do61_duid_mata_o.replace(/\\x/g, '');
			var do61_duidParam_tmp=HEX2DEC(do61_duid_mata);
			//if (fvt_meta_config('wan'+CurItem+'_cht_option61_cp_circuit_id_enable') == '1')
			//	{document.getElementById("id_DUID_Title").innerHTML = "&nbsp;&nbsp;"+"Enterprise Number";}
			//else
			//	{document.getElementById("id_DUID_Title").innerHTML = "&nbsp;&nbsp;"+"DUID";}
			document.getElementById("id_DUID_Title").innerHTML = "&nbsp;&nbsp;"+"Enterprise Number";

			document.getElementById("id_DHCPduid").value=do61_duidParam_tmp;
			document.getElementById("id_DHCPiaid").value=do61_iaidParam;
		}

		if(fvt_meta_config('wan'+CurItem+'_cht_option61_cp_circuit_id_enable') == '1')
		{
			document.wanDHCP_form.copyDUID.checked =true;
			cpDUID();
		}
		else
		{
			document.wanDHCP_form.copyDUID.checked =false;
		}

		document.wanDHCP_form.DHCPOption125[do125_enParam].checked=true;
		document.getElementById("id_DHCPEnterpriseNum").value=do125_enumParam;
		document.getElementById("id_DHCPManufacturerOui").value=do125_ouiParam;
		document.getElementById("id_DHCPProductClass").value=do125_pdcParam;
		document.getElementById("id_DHCPModelName").value=do125_mnParam;
		document.getElementById("id_DHCPSerialNum").value=do125_snumParam;

		document.wanDHCP_form.DHCPNat[natParam].checked=true;
		document.wanDHCP_form.DHCPEnable[wanEnableParam].checked=true;
		document.wanDHCP_form.DHCPMtu.value=mtuParam;
		document.wanDHCP_form.DHCPMtu.value=mtuParam;

		options_disable();
	/*	if (vtypeParam!=1 && VlanCountRut <= 0)
		{
			document.wanDHCP_form.DHCPVlanId.disabled=true;
			document.wanDHCP_form.DHCPPBit.disabled=true;
		}
		else
		{
			document.wanDHCP_form.DHCPVlanId.disabled=false;
			document.wanDHCP_form.DHCPPBit.disabled=false;
		}*/

		//load_data(index);
	}

	var ipv6_iana_mode = fvt_meta_config("wan"+CurItem+"_ipv6_iana_mode");
	var ipv6_iapd_mode = fvt_meta_config("wan"+CurItem+"_ipv6_iapd_mode");

	if (ipv6_iana_mode=='1') document.getElementById("id_DHCPv6_IANA").checked=true;
	else  document.getElementById("id_DHCPv6_IANA").checked=false;

	if (ipv6_iapd_mode=='1') document.getElementById("id_DHCPv6_IAPD").checked=true;
	else  document.getElementById("id_DHCPv6_IAPD").checked=false;
}

function check_wanDHCP(num)
{
	var item,msg,min,max;
	//var WNum=VlanCount;
	var i;
	var c;
	if( ( (document.getElementById("id_DHCPVlanId").value == "") ||
			(isBlank(document.getElementById("id_DHCPVlanId").value)) ) &&
			!(document.wanDHCP_form.nosave_Utag[1].checked) )
		{
			item = "VLAN ID";
			msg = "DHCP";
			warn_not_empty(item);
			// alert(msg+" "+item+" can't be empty!");
			return false;
		}

		/*if( (document.getElementById("id_DHCPPBit").value == "") ||
		(isBlank(document.getElementById("id_DHCPPBit").value)) )
		{
			item = "PBit";
			msg = "DHCP";
			warn_not_empty(item);
			//alert(msg+" "+item+" can't be empty!");
			return false;
		}*/

		if(!check_integer(document.getElementById("id_DHCPVlanId").value) &&
			!(document.wanDHCP_form.nosave_Utag[1].checked) )
		{
			item = "VLAN ID";
			msg = "DHCP";
			min = min_vid;
			max = max_vid;
			warn_int_between(item,min,max);
			// alert(msg+" "+item+" should be an integer between "+min+" and "+max);
			return false;
		}

		/*if(!check_integer(document.getElementById("id_DHCPPBit").value))
		{
			item = "PBit";
			msg = "DHCP";
			min = "0";
			max = "7";
			warn_int_between(item,min,max);
			//alert(msg+" "+item+" should be an integer between "+min+" and "+max);
			return false;
		}*/

		if (!check_integer_range(document.getElementById("id_DHCPVlanId").value,min_vid,max_vid) &&
			!(document.wanDHCP_form.nosave_Utag[1].checked ) )
		{
			item = "VLAN ID";
			msg = "DHCP";
			min = min_vid;
			max = max_vid;
			warn_int_between(item,min,max);
			//alert(msg+" "+item+" should be an integer between "+min+" and "+max);
			return false;
		}

		/*if (!check_integer_range(document.getElementById("id_DHCPPBit").value,0,7))
		{
			item = "PBit";
			msg = "DHCP";
			min = "0";
			max = "7";
			warn_int_between(item,min,max);
			// alert(msg+" "+item+" should be an integer between "+min+" and "+max);
			return false;
		}*/

	/*if (ID >= 0)
	WNum=WNum-1;

		for (i=1;i<=WNum;i++)
		{
			if (document.getElementById("id_DHCPVlanId").value==document.getElementById("id_chkVlanId"+i).value)
			{
				item="<%GetString("RouteDHCP","VlanID");%>";
						alert(<%GetString("RouteDHCP","AlrtItmCn");%>);
				return false;
			}
			<%BrCheckVlanId("DHCP");%>
		}*/

	/*
	if (!check_host(document.getElementById("id_DHCPHostname").value,"HostName"))
	{
		alert("Hostname Invalid!");

		return false;
	}
	*/

	if (document.getElementById("id_DHCPVendorId").value.length>0)
	{
		for(i=0;i<document.getElementById("id_DHCPVendorId").value.length;i++)
		{
			c = document.getElementById("id_DHCPVendorId").value.charCodeAt(i);
			if (c=='34')
			{
				item = "Vender Class ID";
				warn_int(item);
				// alert(" "+item+" should be an integer.");
				return false;
			}
		}
	}

	if(document.wanDHCP_form.DHCPop61_type[0].checked)
	{
		if (document.getElementById("id_DHCPClientId").value.length>0)
		{
			document.getElementById("id_DHCPClientId").value = document.getElementById("id_DHCPClientId").value.toLowerCase();
			if(!check_mac(document.getElementById("id_DHCPClientId").value))
			{
				item = "Client ID";
				msg = "";
				//warn_int(item)
				alert(msg+" "+item+" should be a MAC address.");
				return false;
			}
		}
	}else if(document.wanDHCP_form.DHCPop61_type[1].checked)
	{
		if(document.getElementById("id_DHCPiaid").value!="" && document.getElementById("id_DHCPduid").value=="")
		{
			warn_not_empty("Option 61 DUID");
			return false;
		}
		if(document.getElementById("id_DHCPiaid").value=="" && document.getElementById("id_DHCPduid").value!="")
		{
			warn_not_empty("Option 61 IAID");
			return false;
		}

		if(!check_integer(document.getElementById("id_DHCPduid").value))
		{
			item = "[Enterprise Number]";
			msg = "DHCP";
			min = "0";
			max = "4294967295"; //2^32
			warn_int_between(item,min,max);
			// alert(msg+" "+item+" should be an integer between "+min+" and "+max);
			return false;
		}

		if (!check_integer_range(document.getElementById("id_DHCPduid").value,0,4294967295))
		{
			item = "[Enterprise Number]";
			msg = "DHCP";
			min = "0";
			max = "4294967295"; //2^32
			warn_int_between(item,min,max);
			//alert(msg+" "+item+" should be an integer between "+min+" and "+max);
			return false;
		}
	}

	if (document.getElementById("id_DHCPEnterpriseNum").value.length>0)
	{
		if(!check_integer(document.getElementById("id_DHCPEnterpriseNum").value))
		{
			item = "Enterprise Number";
			warn_int(item);
			return false;
		}
	}

	if (document.wanDHCP_form.nosave_WanDHCPMtu[1].checked==true)
	{
		if(document.getElementById("id_DHCPMtu").value == "")
		{
			item = "MTU";
			msg = "DHCP";
			warn_not_empty(item);
			//alert(msg+" "+item+" can't be empty!");
			return false;
		}
		if(!check_integer_range(document.getElementById("id_DHCPMtu").value,1024,1500))
		{
				item = "MTU";
				msg = "DHCP";
				min = "1024";
				max = "1500";
				warn_int_between(item,min,max);
				// alert(msg+" "+item+" should be an integer between "+min+" and "+max);
				return false;
		}
	}
	return true;
}

function Back()
{
	window.location.href="wwwctrl.cgi?action=wan_pon_connections";
}

function setDHCP()
{

	var i,bindp;
	bindp='';
	if (bindmethodParam=="1"|| bingtypeParam == "1")
	{
		/*if (ckbindport())
		{
			alert("bind error");
			return false;
		}*/
		//setbindport();
		//bindParam=Str_delMulti(bindp,";");
		bindParam=bindp;
	}
	if (!check_wanDHCP())
			return false
	/*if (document.wanDHCP_form.nosave_WanDHCPMtu[0].checked)
		document.wanDHCP_form.DHCPMtu.value="1500";*/
	document.wanDHCP_form.DHCPMtu.disabled=false;
	document.wanDHCP_form.DHCPVlanId.disabled=false;
	document.wanDHCP_form.DHCPPBit.disabled=false;

	qos_set();
}

function qos_set()
{
	fvt_form_submit('wanDHCP_form');
	document.wanDHCP_form.action="wwwctrl.cgi?action=wan_pon_connections";
	document.wanDHCP_form.submit();
}

function options_disable()
{
	if(document.wanDHCP_form.DHCPVendorIdEnable[0].checked){
		document.wanDHCP_form.DHCPVendorId.disabled=true;
	}else{
		document.wanDHCP_form.DHCPVendorId.disabled=false;
	}
	if(document.wanDHCP_form.DHCPClientIdEnable[0].checked){
		document.wanDHCP_form.DHCPop61_type[0].disabled=true;
		document.wanDHCP_form.DHCPop61_type[1].disabled=true;
		document.wanDHCP_form.DHCPClientId.disabled=true;
		document.wanDHCP_form.DHCPduid.disabled=true;
		document.wanDHCP_form.DHCPiaid.disabled=true;
		document.wanDHCP_form.copyDUID.disabled=true;
	}else{
		document.wanDHCP_form.DHCPop61_type[0].disabled=false;
		document.wanDHCP_form.DHCPop61_type[1].disabled=false;
		document.wanDHCP_form.DHCPClientId.disabled=false;
		document.wanDHCP_form.DHCPduid.disabled=false;
		document.wanDHCP_form.DHCPiaid.disabled=false;
		document.wanDHCP_form.copyDUID.disabled=false;
		option61_disable();
	}
	if(document.wanDHCP_form.DHCPOption125[0].checked){
		document.wanDHCP_form.DHCPEnterpriseNum.disabled=true;
		document.wanDHCP_form.DHCPManufacturerOui.disabled=true;
		document.wanDHCP_form.DHCPProductClass.disabled=true;
		document.wanDHCP_form.DHCPModelName.disabled=true;
		document.wanDHCP_form.DHCPSerialNum.disabled=true;
	}else{
		document.wanDHCP_form.DHCPEnterpriseNum.disabled=false;
		document.wanDHCP_form.DHCPManufacturerOui.disabled=false;
		document.wanDHCP_form.DHCPProductClass.disabled=false;
		document.wanDHCP_form.DHCPModelName.disabled=false;
		document.wanDHCP_form.DHCPSerialNum.disabled=false;
	}
}

function option61_disable()
{
	if(document.wanDHCP_form.DHCPop61_type[0].checked)//type1
	{
		document.wanDHCP_form.DHCPClientId.disabled=false;
		document.wanDHCP_form.DHCPduid.disabled=true;
		document.wanDHCP_form.DHCPiaid.disabled=true;
		document.wanDHCP_form.copyDUID.disabled=true;
	}else{ //type2
		document.wanDHCP_form.DHCPClientId.disabled=true;
		document.wanDHCP_form.copyDUID.disabled=false;
		document.wanDHCP_form.DHCPduid.disabled=false;
		document.wanDHCP_form.DHCPiaid.disabled=false;
	}
}

function fvt_form_submit(form_name) {
	fvt_paramlist_clear();
	if (form_name=='wanDHCP_form' || form_name=='*') {
		if (auParam == 1)
		{
			fvt_paramlist_cat_str("wan"+CurItem+"_if_name", WanNameParam);
			fvt_paramlist_cat_str("wan"+CurItem+"_ip_assignment", WanModeParam);
			fvt_paramlist_cat_str("wan"+CurItem+"_ipv6_assignment", WanModeParam);	// for ipv6

			//fvt_paramlist_cat_str("wan"+CurItem+"_bind_type", bindmethodParam);
			//fvt_paramlist_cat_str("wan"+CurItem+"_service_voip", VoIPParam);
			fvt_paramlist_cat_str("wan"+CurItem+"_service_cwmp", TR069Param);
			//fvt_paramlist_cat_str("wan"+CurItem+"_service_igmp", IGMPParam);

			if(parseInt(DeafaultRouteParam))
				fvt_paramlist_cat_str("system_default_route_interface", "dev_wan"+CurItem+"_interface");
		}
		//fvt_paramlist_cat_str("wan"+CurItem+"_dhcp_bind", bindParam);
		//if (fvt_form_obj_get("wanDHCP_form", "DHCPVlanId") == "0")
		if ( document.wanDHCP_form.nosave_Utag[1].checked )
			fvt_paramlist_cat_str("dev_wan"+CurItem+"_interface", link_type);
		else
			fvt_paramlist_cat_str("dev_wan"+CurItem+"_interface", link_type+'.'+fvt_form_obj_get("wanDHCP_form", "DHCPVlanId"));
		//fvt_paramlist_cat_str("wan"+CurItem+"_pbit", fvt_form_obj_get("wanDHCP_form", "DHCPPBit"));
		//fvt_paramlist_cat_str("wan"+CurItem+"_dhcp_8021x", fvt_form_obj_get("wanDHCP_form", "DHCPXsuppEnable"));
		//fvt_paramlist_cat_str("dhcp0_domain", fvt_form_obj_get("wanDHCP_form", "DHCPHostname"));
		fvt_paramlist_cat_str("wan"+CurItem+"_dhcp_client_option60_enable", fvt_form_obj_get("wanDHCP_form", "DHCPVendorIdEnable"));
		fvt_paramlist_cat_str("wan"+CurItem+"_cht_vendor_class_id", fvt_form_obj_get("wanDHCP_form", "DHCPVendorId"));
		fvt_paramlist_cat_str("wan"+CurItem+"_dhcp_client_option61_enable", fvt_form_obj_get("wanDHCP_form", "DHCPClientIdEnable"));

		var cp_enable=0;
		if(document.wanDHCP_form.copyDUID.checked == true) cp_enable=1;
		fvt_paramlist_cat_str("wan"+CurItem+"_cht_option61_cp_circuit_id_enable", cp_enable);
		if(document.wanDHCP_form.DHCPop61_type[0].checked==true && document.wanDHCP_form.DHCPClientId.value!="")
		{
			//fvt_paramlist_cat_str("wan"+CurItem+"_cht_option61_type", fvt_form_obj_get("wanDHCP_form", "DHCPop61_type"));
			fvt_paramlist_cat_str("wan"+CurItem+"_cht_dhcpv4_opt61_mac", fvt_form_obj_get("wanDHCP_form", "DHCPClientId"));
			fvt_paramlist_cat_str("wan"+CurItem+"_cht_dhcpv4_opt61_duid", "");
			fvt_paramlist_cat_str("wan"+CurItem+"_cht_dhcpv4_opt61_iaid", "");
		}else if(document.wanDHCP_form.DHCPop61_type[1].checked==true && document.wanDHCP_form.DHCPduid.value!="" && document.wanDHCP_form.DHCPiaid.value!="")
		{
			//fvt_paramlist_cat_str("wan"+CurItem+"_cht_option61_type", fvt_form_obj_get("wanDHCP_form", "DHCPop61_type"));
			fvt_paramlist_cat_str("wan"+CurItem+"_cht_dhcpv4_opt61_mac", "");
			//fvt_paramlist_cat_str("wan"+CurItem+"_cht_dhcpv4_opt61_duid", fvt_form_obj_get("wanDHCP_form", "DHCPduid"));

			var cht_dhcpv4_opt61_duid_emp;
			//if (document.wanDHCP_form.copyDUID.checked ==true)
			//	{
				cht_dhcpv4_opt61_duid_emp="\\x00\\x02"+DEC2HEX_array(fvt_form_obj_get("wanDHCP_form", "DHCPduid"));
			//	}
			//	else
			//	{
			//	cht_dhcpv4_opt61_duid_emp=fvt_form_obj_get("wanDHCP_form", "DHCPduid");
			//	}
			//alert( cht_dhcpv4_opt61_duid_emp );
			fvt_paramlist_cat_str("wan"+CurItem+"_cht_dhcpv4_opt61_enident", fvt_form_obj_get("wanDHCP_form", "DHCPduid_append"));
			fvt_paramlist_cat_str("wan"+CurItem+"_cht_dhcpv4_opt61_duid", cht_dhcpv4_opt61_duid_emp);
			fvt_paramlist_cat_str("wan"+CurItem+"_cht_dhcpv4_opt61_iaid", fvt_form_obj_get("wanDHCP_form", "DHCPiaid"));
		}
		fvt_paramlist_cat_str("wan"+CurItem+"_dhcp_client_option125_enable", fvt_form_obj_get("wanDHCP_form", "DHCPOption125"));
		fvt_paramlist_cat_str("wan"+CurItem+"_cht_enterprise_number", fvt_form_obj_get("wanDHCP_form", "DHCPEnterpriseNum"));
		fvt_paramlist_cat_str("wan"+CurItem+"_cht_manufacturer_oui", fvt_form_obj_get("wanDHCP_form", "DHCPManufacturerOui"));
		fvt_paramlist_cat_str("wan"+CurItem+"_cht_product_class", fvt_form_obj_get("wanDHCP_form", "DHCPProductClass"));
		fvt_paramlist_cat_str("wan"+CurItem+"_cht_model_name", fvt_form_obj_get("wanDHCP_form", "DHCPModelName"));
		fvt_paramlist_cat_str("wan"+CurItem+"_cht_serial_number", fvt_form_obj_get("wanDHCP_form", "DHCPSerialNum"));
		fvt_paramlist_cat_str("nat"+CurItem+"_enable", fvt_form_obj_get("wanDHCP_form", "DHCPNat"));
		fvt_paramlist_cat_str("wan"+CurItem+"_enable", fvt_form_obj_get("wanDHCP_form", "DHCPEnable"));
		fvt_paramlist_cat_str("wan"+CurItem+"_ip_enable", fvt_form_obj_get("wanDHCP_form", "IPV4Enable")); //ipv4
		fvt_paramlist_cat_str("wan"+CurItem+"_ipv6_enable", fvt_form_obj_get("wanDHCP_form", "IPV6Enable")); //ipv6
		fvt_paramlist_cat_str("wan"+CurItem+"_dhcp_mtu_select", fvt_form_obj_get("wanDHCP_form", "nosave_WanDHCPMtu"));
		if(fvt_form_obj_get("wanDHCP_form", "nosave_WanDHCPMtu")==0)
			fvt_paramlist_cat_str("wan"+CurItem+"_dhcp_mtu", "1500");
		else
			fvt_paramlist_cat_str("wan"+CurItem+"_dhcp_mtu", fvt_form_obj_get("wanDHCP_form", "DHCPMtu"));

		fvt_paramlist_cat_str("wan"+CurItem+"_ip_assignment", fvt_form_obj_get("wanDHCP_form","WanModeChange"));
		fvt_paramlist_cat_str("wan"+CurItem+"_ipv6_assignment", fvt_form_obj_get("wanDHCP_form","WanModeChange")); //ipv6

		var ipv6_iana, ipv6_iapd;
		if (document.getElementById('id_DHCPv6_IANA').checked) {ipv6_iana = 1;} else {ipv6_iana = 0;}
		if (document.getElementById('id_DHCPv6_IAPD').checked) {ipv6_iapd = 1;} else {ipv6_iapd = 0;}
		//alert("IANA:"+ipv6_iana+", IAPD:"+ ipv6_iapd);
		fvt_paramlist_cat_str("wan"+CurItem+"_ipv6_iana_mode", ipv6_iana); //ipv6
		fvt_paramlist_cat_str("wan"+CurItem+"_ipv6_iapd_mode", ipv6_iapd); //ipv6
	}
	fvt_paramlist_presubmit(form_name);
}

function replace_emp(do61_duid)		{
	var rep="\\x00\\x02"
	var result = do61_duid.replace(rep, "");
	return result;
}

function HEX2DEC(number) {
	// Return error if number is not hexadecimal or contains more than ten characters (10 digits)
	//if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) return '#NUM!';
	if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) return '';

	// Convert hexadecimal number to decimal
	var decimal = parseInt(number, 16);

	// Return decimal number
	return (decimal >= 549755813888) ? decimal - 1099511627776 : decimal;
}

function DEC2HEX(dec) {
	var buf = [],
	//map = '0123456789ABCDEF';
	map = '0123456789abcdef';
	while (parseInt(dec / 16, 10) !== 0) {
		buf.unshift(map[dec % 16]);
		dec = parseInt(dec / 16, 10);
	}
	buf.unshift(map[dec % 16]);
	return buf.join('');
};

function DEC2HEX_array(dec) {
	var result = DEC2HEX(dec);
	var result8 = result;
	var xout="";
	for (i = result.length ; i < 8; i++)
	{
		result8 = "0" + result8;
	}
	var hex_array = result8.match(/.{1,2}/g)
	for (i = 0 ; i <= 3; i++){xout = xout + "\\x" + hex_array[i];}
	return xout;
}

function show_dhcpv6_off()
{
	document.getElementById("show_dhcpv6").style.display="none";
};
function show_dhcpv6_on()
{
	document.getElementById("show_dhcpv6").style.display="table-row";
};
//-->
</script>
</head>

<body onload="Init();options_disable();">
<div id="container">
<table align="center" width="90%"><tbody>
<tr><td valign="top">
<form id="id_wanHybrid_form" name="wanDHCP_form" method="post">
<div class="div1_indent lv3_new">
	<input type="hidden" name="nosave_WanMode" value='DHCP'>
	<table border="0" cellpadding="0" cellspacing="0"><tr ctrlflip="right">
			<td><div class="lv2_new rowh">[</div></td>
			<td><div class="lv2_new rowh" ctrlid="350">Route</div></td>
			<td><div class="lv2_new rowh">] - [</div></td>
			<td><div class="lv2_new rowh" ctrlid="37">IPoE (DHCP)</div></td>
			<td><div class="lv2_new rowh">]</div></td>
	</tr></table>

	<div class="top_routedhcp1">
	</div>
	<div>
		<div class="lv3_new">
<!-- DHCP start -->
			<table border="0" cellpadding="0" cellspacing="0" id="id_WANDhcpEnable_tbl">
				<tr>
					<td class="width_routeDhcp1"><div class="lv2_new" ctrlflip="right" ctrlid="355">WAN</div></td>
				</tr>

				<!-- <tr style="display:none"> -->
			<tr>
				<td></td>
				<td width=160px><table><tr>
				<td><div class="lv2_new" ctrlflip="etc" ctrlid="368">WAN Mode</div></td>
				<td><div class="size_gt lv2_new">></div></td>
				</tr></table></td>
				<td ctrlflip="etc">
				<select name="WanModeChange" id="id_WanModeChange">
					<option value="0">IPoE (Static IP)</option>
					<option value="1" selected>IPoE (DHCP)</option>
					<option value="2">PPPoE</option>
				</select>
				<input ctrlflip='etc' type="button" value='Apply' onclick="setDHCP();">
				</td>
			</tr>
			<tr style="display:none">
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="right" ctrlid="191">802.1X</div></td>
					<td><div class="size_gt lv2_new">></div></td>
				</tr></table></td>
				<td>
					<select ar='1' ctrlflip='etc' size="1" name="DHCPXsuppEnable" id="id_DHCPXsuppEnable" class="width_select40">
						<option value="0">Disable</option>
						<option value="1">Enable</option>
					</select>
				</td>
			</tr>
<!-- wan enable-->
			<tr>
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="369">Interface</div></td>
					<td><div class="size_gt lv2_new">></div></td>
				</tr></table></td>
				<td><table><tr>
				<td class="contentA"><input type="radio" class="dot" name="DHCPEnable" id="id_DHCPDisable" value="0" class="radio">Disable</td>
				<td>&nbsp;&nbsp;</td>
				<td class="contentA"><input type="radio" class="dot" name="DHCPEnable" id="id_DHCPEnable" value="1" class="radio" checked>Enable</td>
				</tr></table></td>
			</tr>
<!-- ipv4 -->
			<tr>
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="369">IPv4oE (DHCP)</div></td>
					<td><div class="size_gt lv2_new">></div></td>
				</tr></table></td>
				<td><table><tr>
				<td class="contentA"><input type="radio" class="dot" name="IPV4Enable" id="id_IPV4Disable" value="0" class="radio">Disable</td>
				<td>&nbsp;&nbsp;</td>
				<td class="contentA"><input type="radio" class="dot" name="IPV4Enable" id="id_IPV4Enable" value="1" class="radio" checked>Enable</td>
				</tr></table></td>
			</tr>
<!-- ipv6 -->
			<tr>
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="369">IPv6oE (DHCP)</div></td>
					<td><div class="size_gt lv2_new">></div></td>
				</tr></table></td>
				<td><table><tr>
				<td class="contentA"><input type="radio" class="dot" name="IPV6Enable" id="id_IPV6Disable" value="0" onclick="show_dhcpv6_off()">Disable</td>
				<td>&nbsp;&nbsp;</td>
				<td class="contentA"><input type="radio" class="dot" name="IPV6Enable" id="id_IPV6Enable" value="1" onclick="show_dhcpv6_on()" checked>Enable</td>
				</tr></table></td>
			</tr>
			<tr id="show_dhcpv6" style="display:none">
				<td></td>
				<td></td>
				<td><table>
				<tr>
					<td><input type="checkbox" name="DHCPv6_IANA" id="id_DHCPv6_IANA" checked></td>
					<td><div class="lv2_new">&nbsp;DHCPv6 Address Assignment (IANA)</div></td>
				</tr>
				<tr>
					<td><input type="checkbox" name="DHCPv6_IAPD" id="id_DHCPv6_IAPD" checked></td>
					<td><div class="lv2_new">&nbsp;DHCPv6 Prefix Delegation (IAPD)</div></td>
				</tr>
				</table></td>
			</tr>

			<tr height="18">
				<td></td>
				<td><table><tr>
					<td class='width_routedhcptxt'><div class="lv2_new" ctrlflip="right" ctrlid="364">DHCP</div></td>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="360">Option</div></td>
					<td><div class="size_colon lv2_new">:</div></td>
				</tr></table></td>
			</tr>
			<tr style="display:none">
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="right" ctrlid="42">Host Name</div></td>
					<td><div class="size_gt lv2_new">></div></td>
				</tr></table></td>
				<td>
				<input ctrlflip="etc" type="text" name="DHCPHostname" class="width_routeDhcp_hnameTxt" id="id_DHCPHostname" maxlength="30" value=''>
				</td>
			</tr>
			<tr>
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="right" ctrlid="367">DHCP Option 60</div></td>
					<td><div class="size_gt lv2_new">:</div></td>
				</tr></table></td>
				<td><table><tr>
				<td class="contentA"><input type="radio" name="DHCPVendorIdEnable" id="id_DHCPVendorIdEnable" value="0" class="radio" onclick="options_disable()" checked>Disable</td>
				<td>&nbsp;&nbsp;</td>
				<td class="contentA"><input type="radio" name="DHCPVendorIdEnable" id="id_DHCPVendorIdEnable" value="1" onclick="options_disable()" class="radio">Enable</td>
				</tr></table></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;Vender Class ID</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPVendorId" id="id_DHCPVendorId" class="width_routeDhcp_VndrClsTxt" value='' disabled></td>
			</tr>
			<tr>
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="369">DHCP Option 61</div></td>
					<td><div class="size_gt lv2_new">:</div></td>
				</tr></table></td>
				<td><table><tr>
				<td class="contentA"><input type="radio" name="DHCPClientIdEnable" id="id_DHCPClientIdEnable" value="0" class="radio" onclick="options_disable()" checked>Disable</td>
				<td>&nbsp;&nbsp;</td>
				<td class="contentA"><input type="radio" name="DHCPClientIdEnable" id="id_DHCPClientIdEnable" value="1" onclick="options_disable()" class="radio">Enable</td>
				</tr></table></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td><div ctrlflip="etc" ctrlid="369">&nbsp;&nbsp;Type</div></td>
				<td><table><tr>
				<td><input type="radio" name="DHCPop61_type" id="id_DHCPop61_type" value="1" class="radio" onclick="option61_disable()" checked>type 1</td>
				<td>&nbsp;&nbsp;</td>
				<td><input type="radio" name="DHCPop61_type" id="id_DHCPop61_type" value="2" onclick="option61_disable();cpDUID()" class="radio">type 2</td>
				</tr></table></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;DUID&nbsp;copy&nbsp;from&nbsp;CPE&nbsp;ID</div></td>
					<td><input ctrlflip="etc" type="checkbox" name="copyDUID" id="id_copyDUID" onchange="cpDUID()"></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;Client&nbsp;ID</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPClientId" id="id_DHCPClientId" class="width_routeDhcp_ClientidTxt" value='' disabled></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div name="DUID_Title" id="id_DUID_Title" ctrlflip="right" ctrlid="336"></div></td>
						<td><input ctrlflip="etc" type="text" name="DHCPduid" id="id_DHCPduid" class="width_routeDhcp_ClientidTxt" value=''></td>
<!--
						<td><div name="DHCPduid_append" id="id_DHCPduid_append" ctrlflip="right" ctrlid="336"></div></td>
			</tr>
			<tr name="DHCPduid_append_Ident" id="id_DHCPduid_append_Ident" >
-->
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;Identifier</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPduid_append" id="id_DHCPduid_append" class="width_routeDhcp_ClientidTxt" value=''></td>
			</tr>

			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;IAID</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPiaid" id="id_DHCPiaid" class="width_routeDhcp_ClientidTxt" value='' maxlength="4" disabled></td>
			</tr>
			<tr>
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="369">DHCPOption 125</div></td>
					<td><div class="size_gt lv2_new">:</div></td>
				</tr></table></td>
				<td><table><tr>
				<td class="contentA"><input type="radio" name="DHCPOption125" id="id_DHCPOption125" value="0" class="radio" onclick="options_disable()" checked>Disable</td>
				<td>&nbsp;&nbsp;</td>
				<td class="contentA"><input type="radio" name="DHCPOption125" id="id_DHCPOption125"	value="1" onclick="options_disable()" class="radio">Enable</td>
				</tr></table></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;Enterprise&nbsp;Number</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPEnterpriseNum" id="id_DHCPEnterpriseNum" class="width_routeDhcp_ClientidTxt" value='' disabled></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;Manufacturer&nbsp;Oui</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPManufacturerOui" id="id_DHCPManufacturerOui" class="width_routeDhcp_ClientidTxt" value='' disabled></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;Product&nbsp;Class</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPProductClass" id="id_DHCPProductClass" class="width_routeDhcp_ClientidTxt" value='' disabled></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;Model&nbsp;Name</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPModelName" id="id_DHCPModelName" class="width_routeDhcp_ClientidTxt" value='' disabled></td>
			</tr>
			<tr>
				<td>&nbsp;</td>
					<td><div ctrlflip="right" ctrlid="336">&nbsp;&nbsp;Serial&nbsp;Number</div></td>
					<td><input ctrlflip="etc" type="text" name="DHCPSerialNum" id="id_DHCPSerialNum" class="width_routeDhcp_ClientidTxt" value='' disabled></td>
			</tr>
			<tr>
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="369">NAT</div></td>
					<td><div class="size_gt lv2_new">></div></td>
				</tr></table></td>
				<td><table><tr>
				<td><input type="radio" name="DHCPNat" id="id_DHCPNat" value="0" class="radio" checked>Disable</td>
				<td>&nbsp;&nbsp;</td>
				<td><input type="radio" name="DHCPNat" id="id_DHCPNat" value="1" class="radio">Enable</td>
				</tr></table></td>
			</tr>

			<tr>
				<td></td>
				<td><table><tr>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="370">MTU</div></td>
					<td><div class="lv2_new">(</div></td>
					<td><div class="lv2_new" ctrlflip="etc" ctrlid="361">Bytes</div></td>
					<td><div class="lv2_new">)</div></td>
					<td><div class="size_colon lv2_new">:</div></td>
				</tr></table></td>
				<td><table><tr>
					<td><input ctrlflip="etc" type="radio" name="nosave_WanDHCPMtu" value="0" class="radio" onclick="manual_close('DHCPMtu', '1500')" checked></td>
					<td class="width_routeDhcp_auto"><label for="WanDHCPMtu_close"><div ctrlflip="right" ctrlid="362">Auto</div></label></td>
					<td><div ctrlflip="etc"> 1500</div></td>
				</tr></table></td>
			</tr>
			<tr>
				<td></td>
				<td>&nbsp;</td>
				<td><table><tr>
					<td><input type="radio" name="nosave_WanDHCPMtu" value="1" class="radio" onclick="manual_open('DHCPMtu')"></td>
					<td><label for="WanDHCPMtu_open"><div ctrlflip="etc" ctrlid="363">Manual</div></label> </td>
					<td><input ctrlflip="etc" type="text" name="DHCPMtu" class='input_width_space width_routeDhcp_manualtxt' id="id_DHCPMtu" maxlength="4" size="2" value=''></td>
				</tr></table></td>
			</tr>
				<tr>
					<td></td>
					<td class="width_routeDhcp3">
						<table><tr>
							<td><div class="lv2_new" ctrlflip="right" ctrlid="356">VLAN</div></td>
							<td><div class="size_gt lv2_new"> ></div></td>
						</tr><tr>
						</tr></table>
					</td>
					<td>
						<table><tr>
						<td><div class="lv2_new" ctrlflip="etc" ctrlid="358">VLAN ID</div></td>
						<td><div class="size_colon lv2_new">:</div></td>
						<td><input type="radio" class="radio" name="nosave_Utag" id="id_nosave_Utag" value="0" onclick="manual_open('DHCPVlanId')" checked></td>
						<td><div ctrlflip="etc" ctrlid="363">Tag</div></td>
						<script language="javascript" type="text/javascript">
							document.write("<td class='width_routeDhcp_alwaysid'><input ctrlflip='right' type='text' name='DHCPVlanId' class='width_routeDhcp_alwaysid' id='id_DHCPVlanId' maxlength='4' size='4' value='' ></td>");
							document.write("<td style='display:none'><div class='lv2_new' ctrlflip='etc' ctrlid='104'>PBit (Priority bit)</div></td>");
							document.write("<td style='display:none'><div class='size_colon'>:</div></td>");
							document.write("<td style='display:none' class='width_routeDhcp_pbittxt'><input ctrlflip='right'type='text' name='DHCPPBit' id='id_DHCPPBit' maxlength='4' size='4' value='' ></td>");
						</script>
						</tr>
						<tr>
						<td></td>
						<td></td>
						<td>
							<input type="radio" class="radio" name="nosave_Utag" id="id_nosave_Utag" value="1" onclick="manual_close('DHCPVlanId')">
						</td>
						<td>Untag</td>
						</tr></table>
					</td>
				</tr>
		</table>
<!-- DHCP end -->
	</div>
	<div class="top_cwmp2">
		<table align="center" border="0" cellpadding="0" cellspacing="0">
			<tr>
				<td class="button_center">
					<input ctrlflip="etc" type="button" value="Save" class="width_routeDhcp_save" onClick="setDHCP();">
					<input ctrlflip="etc" type="button" value='Back' class="width_routeDhcp_back" onClick="Back();">
				</td>
			</tr>
		 </table>
	</div>
	<div><hr class="hr2" /></div>
</div>
</div>

</form>
</td></tr>
</tbody></table>
</div>
</body>
</html>

